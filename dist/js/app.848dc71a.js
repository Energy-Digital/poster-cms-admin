(function(t){function e(e){for(var i,o,l=e[0],r=e[1],c=e[2],d=0,p=[];d<l.length;d++)o=l[d],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&p.push(n[o][0]),n[o]=0;for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i]);u&&u(e);while(p.length)p.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],i=!0,l=1;l<a.length;l++){var r=a[l];0!==n[r]&&(i=!1)}i&&(s.splice(e--,1),t=o(o.s=a[0]))}return t}var i={},n={app:0},s=[];function o(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=i,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(a,i,function(e){return t[e]}.bind(null,i));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],r=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var u=r;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"025e":function(t,e,a){"use strict";a.r(e),a.d(e,"saveGlobalStatus",(function(){return l})),a.d(e,"getGlobalStatus",(function(){return r})),a.d(e,"limitLength",(function(){return c})),a.d(e,"isEmpty",(function(){return u})),a.d(e,"getCookie",(function(){return d})),a.d(e,"setCookie",(function(){return p})),a.d(e,"setCookieExInMin",(function(){return m})),a.d(e,"idFileTypeDes",(function(){return f})),a.d(e,"getFileExtension",(function(){return h})),a.d(e,"getFileIcon",(function(){return g})),a.d(e,"decodeRichText",(function(){return b})),a.d(e,"encodeRichText",(function(){return v})),a.d(e,"decodeImgSrc",(function(){return _})),a.d(e,"encodeImgSrc",(function(){return y})),a.d(e,"strLenLimit",(function(){return w}));a("28a5");var i=a("7618"),n=(a("7f7f"),a("ac6a"),[{name:"png",type:"Image"},{name:"jpg",type:"Image"},{name:"svg",type:"Image"},{name:"jpeg",type:"Image"},{name:"pdf",type:"PDF Document",icon:"pdf.png"},{name:"gif",type:"Image"},{name:"doc",type:"Word Document",icon:"word.png"},{name:"docx",type:"Word Document",icon:"word.png"},{name:"ppt",type:"PowerPoint Document",icon:"ppt.png"},{name:"pptx",type:"PowerPoint Document",icon:"ppt.png"},{name:"xls",type:"Excel Document",icon:"excel.png"},{name:"xlsx",type:"Excel Document",icon:"excel.png"},{name:"txt",type:"Text File",icon:"txt.png"},{name:"sketch",type:"Sketch Project",icon:"doc.png"},{name:"psd",type:"Adobe Photoshop Project",icon:"psd.png"},{name:"ai",type:"Adobe Illustrator Project",icon:"ai.png"},{name:"md",type:"Readme File",icon:"txt.png"},{name:"key",type:"Keynote File",icon:"doc.png"},{name:"mp3",type:"MP3 Audio",icon:"mp3.png"},{name:"wav",type:"WAV Audio",icon:"mp3.png"},{name:"mov",type:"MOV Video",icon:"video.png"},{name:"mp4",type:"MP4 Video",icon:"video.png"},{name:"zip",type:"ZIP Compressed",icon:"zip.png"},{name:"rar",type:"RAR Compressed",icon:"zip.png"}]),s=a("f940"),o=a("4dd0");function l(t){t.forEach((function(t){o.set(t.name,t.value)}))}function r(t){return o.get(t)}function c(t,e,a){return">"==t&&e.length>a||"<"==t&&e.length<a}function u(t){return!t||t.length<1||""==t||null==t||void 0==Object(i["a"])(t)||"undefined"==t}function d(t){for(var e=t+"=",a=document.cookie.split(";"),i=0;i<a.length;i++){var n=a[i].trim();if(0==n.indexOf(e))return n.substring(e.length,n.length)}return""}function p(t,e,a,i){var n,s;i?document.cookie=t+"=;expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;":(s=864e5*a,n=new Date,n.setTime(n.getTime()+s),document.cookie=t+"="+e+";expires="+n.toGMTString()+";")}function m(t,e,a){var i;if(a){var n=new Date;n.setTime(n.getTime()+60*a*1e3),i="; expires="+n.toGMTString()}else i="";document.cookie=t+"="+e+i+"; path=/"}function f(t){for(var e=t.split("."),a=e[e.length-1],i=0;i<n.length;i++)if(a===n[i].name||a===n[i].name.toUpperCase())return{type:n[i].type,icon:n[i].icon}}function h(t){var e=t.split(".");return e[e.length-1]}function g(t){for(var e=0;e<n.length;e++)if(t==n[e].name)return n[e].icon}function b(t){return t=s("|*|",'"',t),t=s("|**|","'",t),t}function v(t){return t=s('"',"|*|",t),t=s("'","|**|",t),t}function _(t,e){return t=s("[%base%]",e,t),t}function y(t,e){return t=s('<img src="'+e,'<img src="[%base%]',t),t}function w(t,e){return t.length<e?t:t.slice(0,e)+"..."}},"034f":function(t,e,a){"use strict";var i=a("64a9"),n=a.n(i);n.a},"0687":function(t,e,a){},"07b2":function(t,e,a){},1089:function(t,e,a){},1233:function(t,e,a){"use strict";var i=a("6d84"),n=a.n(i);n.a},"14ad":function(t,e,a){},"236b":function(t,e,a){"use strict";var i=a("4091"),n=a.n(i);n.a},"23e1":function(t,e,a){"use strict";var i=a("2f46"),n=a.n(i);n.a},"28b2":function(t,e,a){},"2d6f":function(t,e,a){"use strict";var i=a("beb6"),n=a.n(i);n.a},"2f46":function(t,e,a){},3661:function(t,e,a){},"393d":function(t,e,a){"use strict";var i=a("0687"),n=a.n(i);n.a},"3ccc":function(t,e,a){},"3f8c":function(t,e,a){},4091:function(t,e,a){},"488b":function(t,e,a){"use strict";var i=a("78ba"),n=a.n(i);n.a},"4a8b":function(t,e,a){},"4abc":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var i=a("a026"),n=a("5c96"),s=a.n(n),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[t.setupShow?a("setup",{attrs:{base:t.base}}):t._e(),t.loginShow?a("login",{attrs:{base:t.base}}):t._e(),t.adminShow?a("admin",{attrs:{base:t.base}}):t._e()],1)},l=[],r=a("f5ef"),c=a("025e"),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"all"},[a("div",{attrs:{id:"header-cont"}},[a("topping",{attrs:{siteName:t.siteName,base:t.base}})],1),a("div",{attrs:{id:"left-cont"}},[a("sidebar")],1),a("div",{attrs:{id:"right-cont"}},[t.loaded?a("router-view",{ref:"rot",attrs:{base:t.base}}):t._e()],1)])},d=[],p=(a("96cf"),a("7618")),m=(a("7f7f"),a("28a5"),a("3b8d")),f=a("025e"),h=a("4328"),g=a("bc3a"),b=a("f5ef"),v=a("3438");function _(t,e,a,i,n){return y.apply(this,arguments)}function y(){return y=Object(m["a"])(regeneratorRuntime.mark((function t(e,a,i,n,s){var o,l,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:o="upload/",l={status:!1,data:null,err:null},r=new v({getAuthorization:function(t,n){C(e,{bucket:a,region:i},(function(t){var e=t.data&&t.data.credentials;t&&e||(l.err="credentials invalid"),n({TmpSecretId:e.tmpSecretId,TmpSecretKey:e.tmpSecretKey,XCosSecurityToken:e.sessionToken,StartTime:t.data.startTime,ExpiredTime:t.data.expiredTime})}))}}),r.deleteObject({Bucket:a,Region:i,Key:o+n},(function(t,e){t?l.err=t:(l.status=!0,l.data=e),s(l)}));case 4:case"end":return t.stop()}}),t)}))),y.apply(this,arguments)}function w(t,e,a,i,n,s){return k.apply(this,arguments)}function k(){return k=Object(m["a"])(regeneratorRuntime.mark((function t(e,a,i,n,s,o){var l,r,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:l="upload/",r={status:!1,data:null,err:null},c=new v({getAuthorization:function(t,n){C(e,{bucket:a,region:i},(function(t){var e=t.data&&t.data.credentials;t&&e||(r.err="credentials invalid"),n({TmpSecretId:e.tmpSecretId,TmpSecretKey:e.tmpSecretKey,XCosSecurityToken:e.sessionToken,StartTime:t.data.startTime,ExpiredTime:t.data.expiredTime})}))}}),c.putObject({Bucket:a,Region:i,Key:l+s,StorageClass:"STANDARD",Body:n,onProgress:function(t){b.uploadProgress(t)}},(function(t,e){t?r.err=t:(r.status=!0,r.data=e),o(r)}));case 4:case"end":return t.stop()}}),t)}))),k.apply(this,arguments)}function x(t,e,a){g.get(j(t,e)).then((function(t){return"string"==typeof t.data?void a({status:!1,error:t.data}):void a({status:!0,data:t.data})})).catch((function(t){a({status:!1,error:t})}))}function C(t,e,a){var i={ukey:f.getCookie("u_key"),uuid:f.getCookie("u_uuid")};i=Object.assign(i,e);var n=h.stringify(i);g.post(t,n).then((function(t){E(t.data)?b.forceLogout():a({status:!0,data:t.data})})).catch((function(t){a({status:!1,error:t})}))}function L(t,e,a){var i={ukey:f.getCookie("u_key"),uuid:f.getCookie("u_uuid")};i=Object.assign(i,e);var n=h.stringify(i);g.post(t,n).then((function(t){E(t.data)?b.forceLogout():-1!=t.data.indexOf("success")?a({status:!0,data:t.data}):a({status:!1,data:t.data})})).catch((function(t){a({status:!1,data:t})}))}function T(t,e,a){var i="isjeffcomlogin",n=window.btoa(i),s={token:n};s=Object.assign(s,e);var o=h.stringify(s);g.post(t,o).then((function(t){a({status:!0,data:t.data})})).catch((function(t){a({status:!1,error:t})}))}function S(t,e,a){var i={ukey:f.getCookie("u_key"),uuid:f.getCookie("u_uuid")};i=Object.assign(i,e);var n=h.stringify(i);g.post(t,n).then((function(t){var e,i=t.data.split(";");-1!=i[0].indexOf("dbs")&&(e=1,i[1].indexOf("ks")&&(e=2)),-1!=i[0].indexOf("dbe")&&(e=3),-1!=i[1].indexOf("nodel")&&(e=4),a({status:e,data:t.data})})).catch((function(t){a({status:!1,error:t})}))}function O(t,e,a,i){var n=new FormData;n.append("file",e),n.append("name",a.name),n.append("typeDes",a.type.type),n.append("md5",a.md5),n.append("ukey",f.getCookie("u_key")),n.append("uuid",f.getCookie("u_uuid")),g({method:"post",url:t,data:n,timeout:24e4,headers:{"Content-Type":"multipart/form-data"}}).then((function(t){-1!=t.data.indexOf("success")?i({status:!0,data:t.data}):i({status:!1,data:t.data})})).catch((function(t){i({status:!1,data:t})}))}function D(t,e,a){var i=h.stringify(e);g.post(t,i).then((function(t){a({status:!0,data:t.data})})).catch((function(t){a({status:!1,data:t})}))}function $(t){if(!f.getCookie("isjeffcom")){var e={userAgent:navigator.userAgent,userLanguage:navigator.language,appName:navigator.appName,platform:navigator.platform};D(t,e,(function(t){t.status}))}}function I(t){if(!f.getCookie("isjeffcom")){var e={userAgent:navigator.userAgent,userLanguage:navigator.language,appName:navigator.appName,platform:navigator.platform};L(t,e,(function(t){}))}}function j(t,e){if(e.length>0){t+="?";for(var a=0;a<e.length;a++)t=a==e.length-1?t+e[a].name+"="+e[a].val:t+e[a].name+"="+e[a].val+"&"}return t}function E(t){return"object"!==Object(p["a"])(t)&&-1!=t.indexOf("logout")}var A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"header-cont"}},[a("div",{attrs:{id:"header-content"}},[a("div",{attrs:{id:"header-left"},on:{click:t.toHome}},[a("div",{attrs:{id:"header-title"}},[a("span",{attrs:{id:"header-title-sub"}},[t._v(t._s(t.siteName))])])]),a("div",{attrs:{id:"header-right"}},[a("div",{attrs:{id:"header-user"},on:{click:t.toAdmSet}},[a("div",{attrs:{id:"header-user-avatar"}},[a("el-avatar",{attrs:{size:24,src:t.base+t.avatar}})],1),a("div",{attrs:{id:"header-user-name"}},[a("span",[t._v(t._s(t.username))])])]),a("div",{attrs:{id:"header-logout"}},[a("span",{on:{click:t.logout}},[t._v("EXIT")])])])])])},N=[],P={name:"topping",props:{siteName:{type:String,default:"Rider"},base:String},data:function(){return{username:"",avatar:""}},created:function(){this.getCookie("u_name").length>0&&(this.username=Object(c["getCookie"])("u_name"),this.avatar=Object(c["getCookie"])("u_avatar"))},methods:{handleOpen:function(t){},handleClose:function(t){},logout:function(){r["EventBus"].$emit("logout",!0)},toHome:function(){r["EventBus"].$emit("toPage","/home")},toAdmSet:function(){r["EventBus"].$emit("toPage","/adminsettings")},getCookie:function(t){for(var e=t+"=",a=document.cookie.split(";"),i=0;i<a.length;i++){var n=a[i].trim();if(0==n.indexOf(e))return n.substring(e.length,n.length)}return""}}},U=P,W=(a("7ab6"),a("2877")),B=Object(W["a"])(U,A,N,!1,null,"4daeee4b",null),F=B.exports,M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"sidebar-cont"}},[a("el-row",{staticClass:"tac"},[a("el-col",{attrs:{span:12}},[a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"1-1","default-openeds":t.defaultOpeneds},on:{open:t.handleOpen,close:t.handleClose}},[a("el-submenu",{attrs:{index:"1"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-house"}),a("span",{staticClass:"el-sb-title"},[t._v("Basic")])]),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"1-1"},on:{click:function(e){return t.toPage("./home")}}},[a("i",{staticClass:"el-icon-data-line"}),a("span",[t._v("Home")])]),a("el-menu-item",{attrs:{index:"5-2"},on:{click:function(e){return t.toPage("./settings")}}},[a("i",{staticClass:"el-icon-setting"}),a("span",[t._v("Settings")])])],1)],2),a("el-submenu",{attrs:{index:"2"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-reading"}),a("span",{staticClass:"el-sb-title"},[t._v("Contents")])]),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"2-1"},on:{click:function(e){return t.toPage("./postslist")}}},[a("i",{staticClass:"el-icon-document-copy"}),a("span",[t._v("Posts")])]),a("el-menu-item",{attrs:{index:"2-2"},on:{click:function(e){return t.toPage("./cateslist")}}},[a("i",{staticClass:"el-icon-price-tag"}),a("span",[t._v("Categories")])])],1)],2),a("el-submenu",{attrs:{index:"3"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-files"}),a("span",{staticClass:"el-sb-title"},[t._v("Cloud")])]),a("el-menu-item",{attrs:{index:"3-1"},on:{click:function(e){return t.toPage("./fileslist")}}},[a("i",{staticClass:"el-icon-receiving"}),a("span",[t._v("Files")])])],2),a("el-submenu",{attrs:{index:"4"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-sugar"}),a("span",{staticClass:"el-sb-title"},[t._v("Outfit")])]),a("el-menu-item",{attrs:{index:"4-1"},on:{click:function(e){return t.toPage("./themeslist")}}},[a("i",{staticClass:"el-icon-brush"}),a("span",[t._v("Themes")])]),a("el-menu-item",{attrs:{index:"4-2"},on:{click:function(e){return t.toPage("./themesettings")}}},[a("i",{staticClass:"el-icon-magic-stick"}),a("span",[t._v("Themes Settings")])]),a("el-menu-item",{attrs:{index:"4-3"},on:{click:function(e){return t.toPage("./socialmedialist")}}},[a("i",{staticClass:"el-icon-share"}),a("span",[t._v("Social Media")])]),a("el-menu-item",{attrs:{index:"4-5"},on:{click:function(e){return t.toPage("./navslist")}}},[a("i",{staticClass:"el-icon-connection"}),a("span",[t._v("Navigations")])])],2),a("el-submenu",{attrs:{index:"5"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-umbrella"}),a("span",{staticClass:"el-sb-title"},[t._v("Security")])]),a("el-menu-item",{attrs:{index:"5-1"},on:{click:function(e){return t.toPage("./visitorlist")}}},[a("i",{staticClass:"el-icon-view"}),a("span",[t._v("Visitors")])]),a("el-menu-item",{attrs:{index:"5-3"},on:{click:function(e){return t.toPage("./adminsettings")}}},[a("i",{staticClass:"el-icon-user"}),a("span",[t._v("Admin")])])],2),a("el-submenu",{attrs:{index:"6"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-coordinate"}),a("span",{staticClass:"el-sb-title"},[t._v("Testing Function")])]),a("el-menu-item",{attrs:{index:"6-1"},on:{click:function(e){return t.toPage("./visittest")}}},[t._v("User Visit")]),a("el-menu-item",{attrs:{index:"6-2"},on:{click:function(e){return t.toPage("./visittestadm")}}},[t._v("Admin Visit")])],2)],1)],1)],1)],1)},R=[],H={name:"sidebar",props:{},data:function(){return{defaultOpeneds:["1","2","3","4"]}},created:function(){},methods:{handleOpen:function(t){},handleClose:function(t){},toPage:function(t){r["EventBus"].$emit("toPage",t)}}},z=H,V=(a("236b"),Object(W["a"])(z,M,R,!1,null,"700bddbd",null)),q=V.exports,G={name:"admin",components:{topping:F,sidebar:q},props:{base:String,username:String},data:function(){return{user:"Admin",api:"/data/basic/",siteName:"",loaded:!1}},created:function(){var t=this;this.getData(),r["EventBus"].$on("toPage",(function(e){t.toPage(e)}))},methods:{getData:function(){var t=this;x(this.base+this.api,[],(function(e){if(e.status)t.siteName=Object(c["decodeRichText"])(e.data[0].title),Object(c["saveGlobalStatus"])([{name:"poster_cos_enable",value:"1"==e.data[0].tp_cos_enable},{name:"poster_cos_bucket",value:e.data[0].tp_cos_bucket},{name:"poster_cos_region",value:e.data[0].tp_cos_region}]),t.loaded=!0;else if(-1!=e.error.indexOf("n"))return void r["EventBus"].$emit("needsetup",!0)}))},toPage:function(t){this.$router.push({path:t})}}},J=G,K=(a("c5ec"),Object(W["a"])(J,u,d,!1,null,"98bcc016",null)),X=K.exports,Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.upLoading,expression:"upLoading"}],attrs:{id:"all"}},[t._m(0),a("div",{attrs:{id:"login-window"},on:{mousemove:t.robotTest,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submit(e)}}},[a("el-tabs",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("el-tab-pane",{attrs:{label:"PIN+Token",name:"password"}}),a("el-tab-pane",{attrs:{label:"Mobile",name:"mobile"}})],1),"password"===t.tab?a("div",{attrs:{id:"login-inner-vcode"}},[t.loginTryAgain?a("el-avatar",{attrs:{size:72,src:t.avatar}}):t._e(),a("br"),a("br"),a("el-input",{attrs:{placeholder:"Email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("br"),a("el-input",{attrs:{placeholder:"PIN+Token",type:"password"},model:{value:t.psw,callback:function(e){t.psw=e},expression:"psw"}}),a("br"),a("el-button",{attrs:{id:"submitBtn",type:"primary",disabled:t.goBtn},on:{click:t.submit}},[t._v("GO")])],1):t._e(),"mobile"===t.tab?a("div",{attrs:{id:"login-inner-mobile"}},[t.loginTryAgain?a("el-avatar",{attrs:{size:72,src:t.avatar}}):t._e(),a("br"),a("br"),a("div",{staticClass:"login-inner-vcode",attrs:{id:"login-inner-mobilecode"}},[a("el-input",{attrs:{placeholder:"Phone number"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}}),a("el-button",{staticClass:"login-inner-vcode-btn",attrs:{type:"primary",disabled:t.getCodeBtn,plain:""},on:{click:function(e){return t.getVcode("phone")}}},[t._v(t._s(t.codeCountdown))])],1),a("br"),a("el-input",{attrs:{placeholder:"code",type:"password"},model:{value:t.psw,callback:function(e){t.psw=e},expression:"psw"}}),a("br"),a("el-button",{attrs:{id:"submitBtn",type:"primary",disabled:t.goBtn},on:{click:t.submit}},[t._v("GO")])],1):t._e()],1)])},Z=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"logo"},[a("img",{attrs:{src:"logo.png",alt:"poster-cms-logo"}})])}],Q={name:"login",props:{base:String},data:function(){return{api:"/login/",api_mobile:"/login/login_sms/",api_ava:"/login/login_ava/",email:"",phone:"",psw:"",avatar:"",tab:"password",upLoading:!1,goBtn:!0,getCodeBtn:!1,loginTryAgain:!1,robotTestLastX:!1,robotTestRes:!1,codeSent:!1,codeCountdown:"verify",codeGetTimeGap:60}},created:function(){var t=this;x(this.base+this.api_ava,[],(function(e){-1!=e.error.indexOf("needsetup")?r["EventBus"].$emit("setup",!0):Object(c["getCookie"])("u_email")&&(t.email=Object(c["getCookie"])("u_email"))}))},watch:{tab:function(){this.goBtn=!0,this.psw="",this.phone=""},psw:function(){this.psw.length>3?this.goBtn=!1:this.goBtn=!0},codeCountdown:function(){0===this.codeCountdown&&(this.codeCountdown="verify",this.getCodeBtn=!1,clearInterval())}},http:{emulateJSON:!0,emulateHTTP:!0},methods:{submit:function(){this.upLoading=!0;var t=this;if(this.robotTestRes){if(this.psw.length>3){if("password"===this.tab){if(this.email.length<3)return void t.$notify({title:"Email should more than 4 charcters.",type:"warning"})}else if(this.phone.length<9)return void t.$notify({title:"Phone number should more than 10 charcters.",type:"warning"});var e={email:this.email,psw:this.psw},a=this.base+this.api;"mobile"===this.tab&&(e["tel"]=this.phone,e["mode"]="vsms",a=this.base+this.api_mobile),T(a,e,(function(e){if(e.status)if(-1!=e.data.indexOf("success")){var a=e.data.split(",");t.clearLoginCookie(),Object(c["setCookie"])("u_key",a[1],30,!1),Object(c["setCookie"])("u_uuid",a[2],30,!1),Object(c["setCookie"])("u_name",a[3],30,!1),Object(c["setCookie"])("u_avatar",a[4],30,!1),Object(c["setCookie"])("u_email",t.email,30,!1),t.$notify({title:"Security Verfication Successful",type:"success"}),r["EventBus"].$emit("login",!0)}else{var i=e.data.split(",");t.loginTryAgain=!0,t.avatar=i[1],t.$notify({title:"Verfication Fail",message:"You can only try 10 times per day, be careful.",type:"warning"})}else t.$notify({title:"Unknow error",message:"Error: "+e.error,type:"warning"})}))}else t.$notify({title:"Email and password should more than 3 charcters.",type:"warning"});this.upLoading=!1}else this.$notify({title:"Looks like you are a robot, hhhhh.",type:"warning"})},getVcode:function(){this.upLoading=!0;var t=this,e={tel:this.phone,mode:"sms"};T(this.base+this.api_mobile,e,(function(e){if(e.status){var a=e.data;0==a.result?(t.codeSent=!0,t.getCodeBtn=!0,t.countDown(),t.$notify({title:"Code sent, check your inbox.",type:"success"})):1024==a.result||1025==a.result?t.$notify({title:"You can only verify 5 times pre hour, 10 times pre day. Wait or use PIN+Token.",type:"warning"}):-1!=a.indexOf("sent")?(t.codeSent=!0,t.getCodeBtn=!0,t.countDown(),t.$notify({title:"Code sent, check your inbox.",type:"warning"})):-1!=a.indexOf("serr")?t.$notify({title:"Could not sent",type:"warning"}):-1!=a.indexOf("wait")?t.$notify({title:"Slow down. Wait 1 minute.",type:"warning"}):t.$notify({title:"Unknow Error: "+e.data.result,type:"warning"})}else t.$notify({title:"Unknow Error: "+e.error,type:"warning"})})),this.upLoading=!1},countDown:function(){var t=this;t.codeCountdown="verify"===t.codeCountdown?this.codeGetTimeGap-1:t.codeCountdown,setTimeout((function(){t.codeCountdown=t.codeCountdown-1,0!=t.codeCountdown&&t.countDown()}),1e3)},robotTest:function(t){if(!this.robotTestRes)if(0!=this.robotTestLastX){if(t.clientX!=this.robotTestLastX+3||t.clientX!=this.robotTestLastX-3)return void(this.robotTestRes=!0)}else this.robotTestLastX=t.clientX},clearLoginCookie:function(){Object(c["setCookie"])("u_key",0,30,!0),Object(c["setCookie"])("u_uuid",0,30,!0),Object(c["setCookie"])("u_name",0,30,!0),Object(c["setCookie"])("u_avatar",0,30,!0)}}},tt=Q,et=(a("8de4"),Object(W["a"])(tt,Y,Z,!1,null,"1a530ef9",null)),at=et.exports,it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"all"}},[a("div",{attrs:{id:"setup-cont"}},[a("div",{attrs:{id:"setup-inner"}},[t._m(0),a("div",{attrs:{id:"setup-subtitle"}},[a("WSubTitle",{attrs:{txt:"Connect to your database"}})],1),a("div",{attrs:{id:"setup-form"}},[a("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"Location"}},[a("el-input",{model:{value:t.form.url,callback:function(e){t.$set(t.form,"url",e)},expression:"form.url"}})],1),a("el-form-item",{attrs:{label:"Username"}},[a("el-input",{model:{value:t.form.user,callback:function(e){t.$set(t.form,"user",e)},expression:"form.user"}})],1),a("el-form-item",{attrs:{label:"Password"}},[a("el-input",{model:{value:t.form.psw,callback:function(e){t.$set(t.form,"psw",e)},expression:"form.psw"}})],1),a("el-form-item",{attrs:{label:"Table"}},[a("el-input",{model:{value:t.form.select,callback:function(e){t.$set(t.form,"select",e)},expression:"form.select"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("Start Now")])],1)],1)],1)])])])},nt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"setup-title"}},[a("span",[t._v("Welcome, Poster Setup")])])}],st=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"w_subtitle"}},[a("span",[t._v(t._s(t.txt))])])},ot=[],lt={name:"w_subtitle",props:{txt:String}},rt=lt,ct=(a("6c83"),Object(W["a"])(rt,st,ot,!1,null,"3b1411f2",null)),ut=ct.exports,dt={name:"setup",components:{WSubTitle:ut},props:{base:String},data:function(){return{api:"/setup/",form:{url:"",user:"",psw:"",select:""}}},methods:{submit:function(){var t=this,e={url:this.form.url,user:this.form.user,psw:this.form.psw,select:this.form.select};D(this.base+this.api,e,(function(e){-1!=e.data.indexOf("success")?(t.$notify({title:"Setup Successful",type:"success"}),r["EventBus"].$emit("setup-done",!0)):e.data.indexOf("wrong")?t.$notify({title:"Can't connect to this database",type:"warning"}):t.$notify({title:"Something when wrong",type:"warning"})}))}}},pt=dt,mt=(a("6b45"),Object(W["a"])(pt,it,nt,!1,null,"a17c2ec6",null)),ft=mt.exports,ht={name:"app",components:{setup:ft,login:at,admin:X},data:function(){return{loginShow:!1,setupShow:!1,adminShow:!1,username:"Admin",base:"https://api.isjeff.com/main"}},created:function(){var t=this;Object(c["getCookie"])("u_key")&&Object(c["getCookie"])("u_uuid")?(t.setupShow=!1,t.loginShow=!1,t.adminShow=!0):(this.username=Object(c["getCookie"])("u_email"),t.loginShow=!0),r["EventBus"].$on("setup",(function(){t.clearLoginCookie(),t.setupShow=!0,t.loginShow=!1,t.adminShow=!1})),r["EventBus"].$on("setup-done",(function(){t.setupShow=!1,t.loginShow=!0,t.adminShow=!1})),r["EventBus"].$on("login",(function(){t.setupShow=!1,t.loginShow=!1,t.adminShow=!0})),r["EventBus"].$on("logout",(function(){t.clearLoginCookie(),t.setupShow=!1,t.loginShow=!0,t.adminShow=!1})),r["EventBus"].$on("force-logout",(function(){t.clearLoginCookie(),t.setupShow=!1,t.loginShow=!0,t.adminShow=!1,t.$notify({title:"You've been force logout",message:"you are using other device or somebody logged in your account.",type:"warning"})}))},methods:{clearLoginCookie:function(){Object(c["setCookie"])("u_key",0,30,!0),Object(c["setCookie"])("u_uuid",0,30,!0),Object(c["setCookie"])("u_name",0,30,!0),Object(c["setCookie"])("u_avatar",0,30,!0)}}},gt=ht,bt=(a("034f"),Object(W["a"])(gt,o,l,!1,null,null,null)),vt=bt.exports,_t=(a("0fae"),a("bc3a")),yt=a.n(_t),wt=a("a7fe"),kt=a.n(wt),xt=a("8c4f"),Ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.upLoading,expression:"upLoading"}],attrs:{id:"all"}},[a("div",{staticClass:"numbers"},[a("WSubTitle",{attrs:{txt:"Highlight Data"}}),t.loaded?a("div",{staticClass:"numbers-cont"},[a("div",{staticClass:"numbers-single"},[a("div",{staticClass:"numbers-single-num"},[a("span",[a("ICountUp",{attrs:{delay:t.CU_delay,endVal:t.numbersData.visitor,options:t.CU_options}})],1)]),t._m(0)]),a("div",{staticClass:"numbers-single"},[a("div",{staticClass:"numbers-single-num"},[a("span",[a("ICountUp",{attrs:{delay:t.CU_delay+100,endVal:t.numbersData.postsTotal,options:t.CU_options}})],1)]),t._m(1)]),a("div",{staticClass:"numbers-single"},[a("div",{staticClass:"numbers-single-num"},[a("span",[a("ICountUp",{attrs:{delay:t.CU_delay+200,endVal:t.numbersData.postsLikes,options:t.CU_options}})],1)]),t._m(2)]),a("div",{staticClass:"numbers-single"},[a("div",{staticClass:"numbers-single-num"},[a("span",[a("ICountUp",{attrs:{delay:t.CU_delay+300,endVal:t.numbersData.postsVisit,options:t.CU_options}})],1)]),t._m(3)])]):t._e()],1),a("div",{staticClass:"charts"},[a("WSubTitle",{attrs:{txt:"Recent Activities"}}),a("div",{staticClass:"charts-cont"},[a("div",{staticClass:"charts-single"},[t.loaded?a("apexchart",{attrs:{width:"100%",height:"320px",type:"area",options:t.chartOptionsDays,series:t.chartRecentDays}}):t._e()],1),a("div",{staticClass:"charts-single"},[t.loaded?a("apexchart",{attrs:{width:"100%",height:"320px",type:"area",options:t.chartOptionsHours,series:t.chartRecentHours}}):t._e()],1)])],1),t.loaded?a("div",{staticClass:"table"},[a("WSubTitle",{attrs:{txt:"MVP (Most Views Posts)"}}),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.mvpList,stripe:""}},[a("el-table-column",{attrs:{fixed:"",prop:"title",label:"Title",width:"720"}}),a("el-table-column",{attrs:{prop:"ux_visit",label:"Views",width:"220"}}),a("el-table-column",{attrs:{prop:"ux_likes",label:"Likes",width:"220"}})],1)],1):t._e()])},Lt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"numbers-single-name"},[a("span",[t._v("Visitors")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"numbers-single-name"},[a("span",[t._v("Posts")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"numbers-single-name"},[a("span",[t._v("Likes")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"numbers-single-name"},[a("span",[t._v("Clicked")])])}],Tt=a("1321"),St=a.n(Tt),Ot=a("87f4"),Dt=a.n(Ot),$t={name:"home",props:{base:String},components:{apexchart:St.a,WSubTitle:ut,ICountUp:Dt.a},data:function(){return{api:"/data_enc/count_enc/",numbersData:{},loaded:!1,upLoading:!1,mvpList:[],CU_delay:500,CU_options:{duration:1,useEasing:!0,useGrouping:!0,separator:""},chartOptionsBasic:{chart:{id:"recentVisit",animations:{enabled:!0,easing:"easeout",speed:360,animateGradually:{enabled:!0,delay:150},dynamicAnimation:{enabled:!0,speed:350}}},stroke:{curve:"smooth"},xaxis:{categories:["168H","144H","120H","96H","72H","48H","24H"]}},chartOptionsDays:{},chartOptionsHours:{},chartRecentDays:[{name:"Users",data:[0,0,0,0,0,0,0]},{name:"Admin",data:[0,0,0,0,0,0,0]}],chartRecentHours:[{name:"Users",data:[0,0,0,0,0,0,0]},{name:"Admin",data:[0,0,0,0,0,0,0]}]}},created:function(){this.getData()},methods:{getData:function(){this.upLoading=!0;var t=this;C(this.base+this.api,{},(function(e){if(e.status){var a=e.data;t.numbersData=a;var i={xaxis:{categories:["6H","5H","4H","3H","2H","1H","Now"]}};t.chartOptionsDays=t.deepCopy(t.chartOptionsBasic),t.chartOptionsHours=Object.assign(t.chartOptionsBasic,i);var n=t.recentVisit(t.numbersData.vts,"days"),s=t.recentVisit(t.numbersData.vts,"hours");t.chartRecentDays[0].data=n.users,t.chartRecentDays[1].data=n.admin,t.chartRecentHours[0].data=s.users,t.chartRecentHours[1].data=s.admin,t.mvpList=t.numbersData.mvp,t.loaded=!0,t.upLoading=!1}else t.$notify({title:"Error: "+e.error,type:"warning"})}))},recentVisit:function(t,e){for(var a=Date.parse(new Date)/1e3,i="days"===e?86400:3600,n=[],s=[],o=1;o<=7;o++)for(var l=0,r=0,c=0;c<t.length;c++)t[c].ts>a-i*o&&t[c].ts<a-i*(o-1)&&(1==t[c].isAdmin?r+=1:l+=1),c==t.length-1&&(n.push(l),s.push(r));return{users:n.reverse(),admin:s.reverse()}},deepCopy:function(t){return JSON.parse(JSON.stringify(t))}}},It=$t,jt=(a("fa5b1"),Object(W["a"])(It,Ct,Lt,!1,null,"44b623c8",null)),Et=jt.exports,At=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"all"}},[a("WTitle",{attrs:{txt:"All Posts"}}),a("div",{attrs:{id:"new"}},[a("router-link",{attrs:{to:{path:"/postsingle",query:{pid:"new"}}}},[a("el-button",{attrs:{type:"primary",plain:""}},[t._v("New")])],1)],1),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.upLoading,expression:"upLoading"}],attrs:{id:"list"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.postsList,border:""}},[a("el-table-column",{attrs:{fixed:"",prop:"status",label:"Status",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return["0"==e.row.status?a("div",{staticClass:"status",staticStyle:{background:"#c9a661"}},[t._v("Draft")]):t._e(),"1"==e.row.status?a("div",{staticClass:"status",staticStyle:{background:"#61c995"}},[t._v("Published")]):t._e(),"3"==e.row.status?a("div",{staticClass:"status",staticStyle:{background:"#618BC9"}},[t._v("Unlisted")]):t._e(),"2"==e.row.status?a("div",{staticClass:"status",staticStyle:{background:"#c96f61"}},[t._v("Deprecated")]):t._e()]}}])}),a("el-table-column",{attrs:{fixed:"",prop:"title",label:"Title",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"font-weight":"bold","word-wrap":"break-word"}},[t._v(t._s(t.parseTextLimit(e.row.title,64)))])]}}])}),a("el-table-column",{attrs:{prop:"cname",label:"Category",width:"90"}}),a("el-table-column",{attrs:{prop:"date_pub",label:"Publish Date",width:"160"}}),a("el-table-column",{attrs:{prop:"date_modi",label:"Last Edit",width:"160"}}),a("el-table-column",{attrs:{prop:"ux_likes",label:"Likes",width:"120"}}),a("el-table-column",{attrs:{prop:"ux_visit",label:"Views",width:"120"}}),a("el-table-column",{attrs:{fixed:"right",label:"Order",width:"60"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small",disabled:1==e.row.listOrder},on:{click:function(a){return t.postOrder(e.row.id,e.row.listOrder,"up")}}},[a("i",{staticClass:"el-icon-top"})]),a("el-button",{attrs:{type:"text",size:"small",disabled:e.row.listOrder==t.postsListTotal},on:{click:function(a){return t.postOrder(e.row.id,e.row.listOrder,"down")}}},[a("i",{staticClass:"el-icon-bottom"})])]}}])}),a("el-table-column",{attrs:{fixed:"right",label:"Action",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("router-link",{attrs:{to:{path:"/postsingle",query:{pid:e.row.id}}}},[a("el-button",{attrs:{type:"text",size:"small"}},[t._v("Edit")])],1),a("el-button",{attrs:{type:"text",size:"small"}},[t._v("View")])]}}])})],1)],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":t.pageSize,total:t.postsListTotal},on:{"current-change":t.changePage}})],1)],1)},Nt=[],Pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"w_title"}},[a("span",[t._v(t._s(t.txt))])])},Ut=[],Wt={name:"w_title",props:{txt:String}},Bt=Wt,Ft=(a("5e73"),Object(W["a"])(Bt,Pt,Ut,!1,null,"6ca152dc",null)),Mt=Ft.exports,Rt={name:"postlist",components:{WTitle:Mt},props:{base:String},data:function(){return{api:"/data/posts_list/",api_order:"/updater/post_order/",postsList:[],postsListTotal:0,page:1,pageSize:10,upLoading:!1}},http:{emulateJSON:!0,emulateHTTP:!0},created:function(){this.getList(1)},methods:{getList:function(t){this.upLoading=!0;var e=this,a=this.pageToLimit(t),i=t?[{name:"ls",val:a},{name:"size",val:this.pageSize}]:[];x(this.base+this.api,i,(function(t){t.status&&(e.postsListTotal=parseInt(t.data.total),e.postsListTotal>0&&(e.postsList=t.data.data)),e.upLoading=!1}))},postOrder:function(t,e,a){if(("up"!==a||1!=e)&&("down"!==a||e!=this.postsListTotal)){this.upLoading=!0;var i=this,n={mode:a,pid:t,order:e};L(this.base+this.api_order,n,(function(t){t.status&&i.getList(i.page)}))}},changePage:function(t){this.getList(t),this.page=t},pageToLimit:function(t){return 10*(t-1)},parseTextLimit:function(t,e){return Object(c["strLenLimit"])(t,e)}}},Ht=Rt,zt=(a("e5e2"),Object(W["a"])(Ht,At,Nt,!1,null,"3c2814be",null)),Vt=zt.exports,qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.loaded?a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.upLoading,expression:"upLoading"}],attrs:{id:"all"}},[a("div",{attrs:{id:"post-title"}},[a("el-page-header",{attrs:{title:"Back",content:"Edit Post"},on:{back:t.goBack}}),a("div",{attrs:{id:"post-lang-selector"}},[a("el-radio-group",{staticStyle:{"margin-bottom":"30px"},model:{value:t.postLang,callback:function(e){t.postLang=e},expression:"postLang"}},[a("el-radio-button",{attrs:{label:"0"}},[t._v("ENG")]),a("el-radio-button",{attrs:{label:"1"}},[t._v("中文")])],1)],1)],1),t.contOpen?a("div",{attrs:{id:"post-cont"}},[a("div",{staticClass:"pc-b",attrs:{id:"pc-title"}},[a("WSubTitle",{attrs:{txt:"Title"}}),"0"===t.postLang?a("el-input",{attrs:{placeholder:"Article Title (4 Char +)"},model:{value:t.postData.title,callback:function(e){t.$set(t.postData,"title",e)},expression:"postData.title"}}):t._e(),"1"===t.postLang?a("el-input",{attrs:{placeholder:"请输入标题"},model:{value:t.postData.title_sublang,callback:function(e){t.$set(t.postData,"title_sublang",e)},expression:"postData.title_sublang"}}):t._e()],1),a("div",{staticClass:"pc-b",attrs:{id:"pc-content"}},[a("div",{attrs:{id:"pc-editmode-selector"}},[a("el-tabs",{attrs:{type:"card"},model:{value:t.editMode,callback:function(e){t.editMode=e},expression:"editMode"}},[a("el-tab-pane",{attrs:{label:"Visual",name:"view"}}),a("el-tab-pane",{attrs:{label:"Text",name:"source"}})],1)],1),"view"===t.editMode?a("div",{attrs:{id:"pc-content-view"}},["0"===t.postLang?a("text-editor",{attrs:{base:t.base,text:t.postData.content},on:{"update:text":function(e){return t.$set(t.postData,"content",e)},update:t.textUpdate}}):t._e(),"1"===t.postLang?a("text-editor",{attrs:{base:t.base,text:t.postData.content_sublang},on:{"update:text":function(e){return t.$set(t.postData,"content_sublang",e)},update:t.textUpdate}}):t._e()],1):t._e(),"source"===t.editMode?a("div",{attrs:{id:"pc-content-view"}},["0"===t.postLang?a("el-input",{attrs:{type:"textarea",rows:20,placeholder:"Source code editor"},model:{value:t.postData.content,callback:function(e){t.$set(t.postData,"content",e)},expression:"postData.content"}}):t._e(),"1"===t.postLang?a("el-input",{attrs:{type:"textarea",rows:20,placeholder:"Source code editor"},model:{value:t.postData.content_sublang,callback:function(e){t.$set(t.postData,"content_sublang",e)},expression:"postData.content_sublang"}}):t._e()],1):t._e()]),a("div",{staticClass:"pc-b",attrs:{id:"pc-brief"}},[a("WSubTitle",{attrs:{txt:"Brief"}}),"0"===t.postLang?a("el-input",{attrs:{type:"textarea",rows:5,placeholder:"Brief (12 Char +)"},model:{value:t.postData.brief,callback:function(e){t.$set(t.postData,"brief",e)},expression:"postData.brief"}}):t._e(),"1"===t.postLang?a("el-input",{attrs:{type:"textarea",rows:5,placeholder:"文章简述"},model:{value:t.postData.brief_sublang,callback:function(e){t.$set(t.postData,"brief_sublang",e)},expression:"postData.brief_sublang"}}):t._e()],1),a("div",{staticClass:"pc-b",attrs:{id:"pc-likes"}},[a("WSubTitle",{attrs:{txt:"Likes"}}),a("el-input",{attrs:{type:"number",rows:5,placeholder:"Number only"},model:{value:t.postData.ux_likes,callback:function(e){t.$set(t.postData,"ux_likes",e)},expression:"postData.ux_likes"}})],1),a("div",{staticClass:"pc-b",attrs:{id:"pc-visit"}},[a("WSubTitle",{attrs:{txt:"Views"}}),a("el-input",{attrs:{type:"number",rows:5,placeholder:"Number only"},model:{value:t.postData.ux_visit,callback:function(e){t.$set(t.postData,"ux_visit",e)},expression:"postData.ux_visit"}})],1),a("div",{staticClass:"pc-ti",attrs:{id:"pc-ti"}},[a("WSubTitle",{attrs:{txt:"Title_img"}}),a("div",{staticClass:"pc-ti-img-cont"},[""==t.postData.title_img?a("span",{on:{click:t.uploadTitleImg}},[t._v("+ Add Title Image")]):t._e(),t.postData.title_img?a("el-image",{staticClass:"tableImage",style:"width: 400px; height: 160px",attrs:{src:t.base+t.postData.title_img,fit:"contain","preview-src-list":[t.base+t.postData.title_img],lazy:""}},[a("div",{staticClass:"au_img_placeholder",attrs:{slot:"placeholder"},slot:"placeholder"},[a("span",[t._v("Loading")])])]):t._e(),t.postData.title_img?a("el-button",{staticClass:"pc-ti-img-btn",attrs:{type:"text"},on:{click:t.uploadTitleImg}},[t._v("Change")]):t._e()],1)],1)]):t._e(),a("div",{staticClass:"pc-t",attrs:{id:"pc-t"}},[a("WSubTitle",{attrs:{txt:"Publish Date"}}),a("el-switch",{attrs:{"active-text":"Overwrite","inactive-text":"Auto","active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.owDatePub,callback:function(e){t.owDatePub=e},expression:"owDatePub"}}),a("br"),a("br"),a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd hh:mm:ss",type:"datetime",placeholder:"Choose a date",clearable:!1,disabled:!t.owDatePub},model:{value:t.postData.date_pub,callback:function(e){t.$set(t.postData,"date_pub",e)},expression:"postData.date_pub"}}),a("br"),a("br"),a("WSubTitle",{attrs:{txt:"Modification Date"}}),a("el-switch",{attrs:{"active-text":"Overwrite","inactive-text":"Auto","active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.owDateModi,callback:function(e){t.owDateModi=e},expression:"owDateModi"}}),a("br"),a("br"),a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd hh:mm:ss",type:"datetime",placeholder:"Choose a date",clearable:!1,disabled:!t.owDateModi},model:{value:t.postData.date_modi,callback:function(e){t.$set(t.postData,"date_modi",e)},expression:"postData.date_modi"}})],1),a("div",{staticClass:"pc-b",attrs:{id:"pc-cate"}},[a("WSubTitle",{attrs:{txt:"Category"}}),t.cateLoaded?a("el-select",{attrs:{placeholder:"Category"},model:{value:t.postData.cateId,callback:function(e){t.$set(t.postData,"cateId",e)},expression:"postData.cateId"}},t._l(t.postCateOptions,(function(t){return a("el-option",{key:t.id,attrs:{label:t.cname+" · "+t.cname_sublang,value:t.id}})})),1):t._e()],1),a("div",{staticClass:"pc-b",attrs:{id:"pc-status"}},[a("WSubTitle",{attrs:{txt:"Action"}}),a("el-select",{attrs:{placeholder:"Action"},model:{value:t.postData.status,callback:function(e){t.$set(t.postData,"status",e)},expression:"postData.status"}},t._l(t.postStatusOptions,(function(t){return a("el-option",{key:t.sid,attrs:{label:t.sname,value:t.sid}})})),1)],1),a("div",{staticClass:"pc-b",attrs:{id:"pc-submit"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submit()}}},[t._v("Save")]),"update"===t.mode?a("el-button",{staticStyle:{color:"#FF5C5C"},attrs:{type:"text",size:"small"},on:{click:function(e){return t.submit("del")}}},[t._v("Delete")]):t._e()],1),t.upload_win?a("upload-window",{attrs:{base:t.base,allowUrl:!0,allowSelect:!0,allowMultiple:!1},on:{uploaded:t.uploadHandler,close:t.closeUpWin}}):t._e()],1):t._e()},Gt=[],Jt=(a("a481"),a("c5f6"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"all"}},[a("div",{attrs:{id:"assets_upload"}},[t._m(0),a("el-tabs",{model:{value:t.imgInsMode,callback:function(e){t.imgInsMode=e},expression:"imgInsMode"}},[a("el-tab-pane",{attrs:{label:"Upload",name:"upload"}}),t.allowMultiple?a("el-tab-pane",{attrs:{label:"Multiple",name:"multiple"}}):t._e(),t.allowCOS?a("el-tab-pane",{attrs:{label:"COS",name:"cos"}}):t._e(),t._e(),t.allowSelect?a("el-tab-pane",{attrs:{label:"Gallery",name:"gallery"}}):t._e()],1),"upload"===t.imgInsMode?a("div",{attrs:{id:"au_upload_button"}},[a("el-upload",{staticClass:"upload-win",attrs:{drag:"",action:"0","before-upload":t.beforeImgUpload,"http-request":t.uploadFile}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[t._v("Drop file "),a("em",[t._v("or click to upload")])]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("Image and document only, 8MB max")])])],1):t._e(),"multiple"===t.imgInsMode?a("div",{attrs:{id:"au_upload_button"}},[a("el-upload",{staticClass:"upload-win",attrs:{drag:"",multiple:"",action:"0",limit:6,"on-exceed":t.handleExceed,"on-remove":t.handleRemove,"http-request":t.pushToWaittingList}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[t._v("Drop multiple image "),a("em",[t._v("or click to upload")])]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("Image only, 8MB max")])]),a("div",{staticClass:"au_upload_confirm"},[t.waittingList.length>0?a("el-button",{attrs:{type:"primary"},on:{click:t.multipleUpload}},[t._v("Upload")]):t._e()],1)],1):t._e(),"cos"===t.imgInsMode?a("div",{attrs:{id:"au_upload_button"}},[a("el-upload",{staticClass:"upload-win",attrs:{drag:"",action:"0","before-upload":t.beforeImgUpload,"http-request":t.cosFileUpload}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[t._v("Drop file "),a("em",[t._v("or click to upload")])]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("Image and document only, 8MB max")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.progress.percent<1,expression:"progress.percent < 1"}],attrs:{id:"progress"}},[t._v("Progress: "+t._s(100*t.progress.percent+"%")+" | Speed: "+t._s(t.progress.speed))])],1):t._e(),"url"===t.imgInsMode?a("div",{attrs:{id:"au_url_input"}},[a("div",{staticClass:"au_url_input_box"},[a("el-input",{attrs:{placeholder:"Input Image Url"},model:{value:t.inputedImg,callback:function(e){t.inputedImg=e},expression:"inputedImg"}})],1),a("div",{staticClass:"au_assets_manager_btn"},[a("el-button",{staticStyle:{width:"80px"},attrs:{type:"primary",plain:""},on:{click:function(e){return t.submit(t.inputedImg,{type:"Image",icon:0},"noname",0,!1)}}},[t._v("OK")])],1)]):t._e(),"gallery"===t.imgInsMode?a("div",{attrs:{id:"au_assets_manager"}},[t._l(t.gallery,(function(e){return a("div",{key:e.id,staticClass:"au_img_container",style:e.id==t.selected.id?t.imgHighlight:t.imgNormal},[a("div",{staticClass:"file-single-img"},[a("el-image",{staticClass:"file-single-img-img",style:"Image"===e.type_des?"width: 100px; height: 100px":"width: 30px; height: 30px;margin-top: 35px;margin-left: 35px;",attrs:{src:"Image"===e.type_des?t.base+e.path:t.base+t.static_icons_url+t.getIcon(e.type),fit:"contain"},on:{click:function(a){return t.selectItem(e.id,e.path,e.type_des,e.name)}}},[a("div",{staticClass:"au_img_placeholder",attrs:{slot:"placeholder"},slot:"placeholder"},[a("span",[t._v("Loading")])])]),"Image"!==e.type_des?a("span",{staticClass:"au_file_name"},[t._v(t._s(t.realFileName(e.name,14)))]):t._e()],1)])})),a("div",{staticClass:"au_assets_manager_btn"},[a("el-button",{staticStyle:{width:"80px"},attrs:{type:"primary",plain:""},on:{click:function(e){return t.submit(t.selected.path,t.selected.type,t.selected.name,0,!1)}}},[t._v("OK")])],1)],2):t._e()],1),a("div",{attrs:{id:"assets_upload_bg"},on:{click:t.close}})])}),Kt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"au_title"}},[a("span",[t._v("Upload")])])}],Xt=a("84f22"),Yt=a.n(Xt),Zt={name:"upload-window",components:{},props:{allowUrl:{type:Boolean,default:!0},allowSelect:{type:Boolean,default:!0},allowMultiple:{type:Boolean,default:!0},allowType:String,base:String},data:function(){return{session:!1,res:{},static_icons_url:"/static/icons/",api_upFile:"/manager/up_file/",api_addFile:"/manager/add_file/",api_getGallery:"/manager/all_media/",api_tosTmpKey:"/data_enc/cos_enc/",allowCOS:!1,imgInsMode:"upload",gallery:[],inputedImg:"",selected:{},fileType:"",progress:{loaded:0,total:0,speed:0,percent:0},imgHighlight:"border: 1px solid #00B3FF",imgNormal:"border: 1px dashed rgba(0,0,0,0.1)",waittingList:[],returnList:[]}},created:function(){var t=this,e=this;e.initial(),this.getGallery(this.allowType),this.allowCOS=Object(c["getGlobalStatus"])("poster_cos_enable"),r["EventBus"].$on("upload-progress",(function(e){return[t.progress=e]}))},methods:{initial:function(){this.session=!0,this.inputedImg="",this.selected="",this.imgInsMode="upload",this.res={},this.waittingList=[],this.returnList=[]},getGallery:function(t){var e=this;this.gallery=[];var a=[];a=t?[{name:"type",val:t},{name:"size",val:"8"}]:[{name:"type",val:"All"},{name:"size",val:"8"}],x(this.base+this.api_getGallery,a,(function(t){e.gallery=t.data.data}))},cosFileUpload:function(t){var e=this,a=Object(c["getGlobalStatus"])("poster_cos_bucket"),i=Object(c["getGlobalStatus"])("poster_cos_region"),n=t.file.name,s=Object(c["idFileTypeDes"])(t.file.name),o=Object(c["getFileExtension"])(t.file.name);w(this.base+this.api_tosTmpKey,a,i,t.file,n,(function(t){t.status&&(e.submit(t.data.Location,s,n,0,!1),L(e.base+e.api_addFile,{name:n,end:o,des:s.type,url:t.data.Location},(function(t){t.status})))}))},uploadFile:function(t){var e=this,a=t.file,i=t.file.name,n=Object(c["idFileTypeDes"])(t.file.name);if(n){var s=new Yt.a;s.md5(t.file,(function(t,s){O(e.base+e.api_upFile,a,{name:i,type:n,md5:s},(function(t){if(t.status){var a=t.data.split(",");e.$notify({title:"Finish",type:"success"}),0===e.waittingList.length?e.submit(a[1],n,i,0,!1):e.pushToReturnList(a[1],n,i)}else e.$notify({title:"Fail",message:"Error: "+t.data,type:"warning"})}))}))}else this.$notify({title:"File type not allowed",type:"warning"})},pushToWaittingList:function(t){this.waittingList.push(t)},pushToReturnList:function(t,e,a){var i={uploadState:!0,type:e,name:a,path:t};this.returnList.push(i),this.returnList.length===this.waittingList.length&&this.submit(0,0,0,this.returnList,!0)},multipleUpload:function(){for(var t=0;t<this.waittingList.length;t++)this.uploadFile(this.waittingList[t])},selectItem:function(t,e,a,i){t===this.selected.id?this.selected={}:this.selected={path:e,type:Object(c["idFileTypeDes"])(i),name:i,id:t}},handleRemove:function(t){for(var e=0;e<this.waittingList.length;e++)this.waittingList[e].file.uid==t.uid&&this.waittingList.splice(e,1)},beforeImgUpload:function(t){var e=t.size/1024/1024;return!(e>8)||(this.$message.error("Maximum file size is: 8 MB!"),!1)},handleExceed:function(){this.$message.error("6 files at a time")},submit:function(t,e,a,i,n){n?this.$emit("uploaded",{multiple:!0,data:i,type_des:{type:"Image",icon:0}}):(this.res={uploadState:!0,type:e,name:a,path:t},this.$emit("uploaded",{multiple:!1,data:this.res,type_des:e})),this.close()},close:function(){this.session=!1,this.$emit("close",!1)},getIcon:function(t){return Object(c["getFileIcon"])(t)},realFileName:function(t,e){var a,i=t.split("_");return a=i[i.length-1].length<e?i[i.length-1]:i[i.length-1].slice(0,e)+"...",a}}},Qt=Zt,te=(a("1233"),Object(W["a"])(Qt,Jt,Kt,!1,null,"2c60a790",null)),ee=te.exports,ae=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-editor"},[a("editor-menu-bar",{attrs:{editor:t.editor},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.commands,n=e.isActive;return[a("div",{staticClass:"editor-bar"},[a("button",{class:{"is-active":n.bold()},on:{click:i.bold}},[a("span",{staticClass:"material-icons"},[t._v("format_bold")])]),a("button",{class:{"is-active":n.italic()},on:{click:i.italic}},[a("span",{staticClass:"material-icons"},[t._v("format_italic")])]),a("button",{class:{"is-active":n.underline()},on:{click:i.underline}},[a("span",{staticClass:"material-icons"},[t._v("format_underlined")])]),a("button",{class:{"is-active":n.heading({level:1})},on:{click:function(t){return i.heading({level:1})}}},[a("p",{staticStyle:{"font-weight":"bold"}},[t._v("H1")])]),a("button",{class:{"is-active":n.heading({level:2})},on:{click:function(t){return i.heading({level:2})}}},[a("p",{staticStyle:{"font-weight":"bold"}},[t._v("H2")])]),a("button",{class:{"is-active":n.heading({level:3})},on:{click:function(t){return i.heading({level:3})}}},[a("p",{staticStyle:{"font-weight":"bold"}},[t._v("H3")])]),a("button",{class:{"is-active":n.paragraph({textAlign:"left"})},on:{click:function(t){return i.paragraph({textAlign:"left"})}}},[a("span",{staticClass:"material-icons"},[t._v("format_align_left")])]),a("button",{class:{"is-active":n.paragraph({textAlign:"center"})},on:{click:function(t){return i.paragraph({textAlign:"center"})}}},[a("span",{staticClass:"material-icons"},[t._v("format_align_center")])]),a("button",{class:{"is-active":n.paragraph({textAlign:"right"})},on:{click:function(t){return i.paragraph({textAlign:"right"})}}},[a("span",{staticClass:"material-icons"},[t._v("format_align_right")])]),a("button",{class:{"is-active":n.bullet_list()},on:{click:i.bullet_list}},[a("span",{staticClass:"material-icons"},[t._v("format_list_bulleted")])]),a("button",{class:{"is-active":n.ordered_list()},on:{click:i.ordered_list}},[a("span",{staticClass:"material-icons"},[t._v("format_list_numbered")])]),a("button",{class:{"is-active":n.blockquote()},on:{click:i.blockquote}},[a("span",{staticClass:"material-icons"},[t._v("format_quote")])]),a("button",{class:{"is-active":n.code_block()},on:{click:i.code_block}},[a("span",{staticClass:"material-icons"},[t._v("code")])]),a("button",{on:{click:function(e){return t.showUpWin(i.iimage,"Image")}}},[a("span",{staticClass:"material-icons"},[t._v("image")])]),a("button",{on:{click:function(e){return t.showUpWin(i.ilink,"Files")}}},[a("span",{staticClass:"material-icons"},[t._v("insert_drive_file")])]),a("button",{on:{click:function(e){return t.showLinkDialog(i.ilink)}}},[a("span",{staticClass:"material-icons"},[t._v("link")])]),a("button",{on:{click:function(e){return t.showIframePrompt(i.iframe)}}},[a("span",{staticClass:"material-icons"},[t._v("video_library")])]),a("button",{on:{click:i.horizontal_rule}},[a("span",{staticClass:"material-icons"},[t._v("drag_handle")])]),a("button",{on:{click:i.undo}},[a("span",{staticClass:"material-icons"},[t._v("undo")])]),a("button",{on:{click:i.redo}},[a("span",{staticClass:"material-icons"},[t._v("redo")])])])]}}])}),a("editor-content",{staticClass:"editor-content",attrs:{editor:t.editor,autoFocus:!0}}),t.upload_win?a("upload-window",{attrs:{base:t.base,allowSelect:!0,allowMultiple:t.upload_win_multiple,allowUrl:t.upload_win_url,allowType:t.upload_win_type},on:{uploaded:t.uploadHandler,close:t.closeUpWin}}):t._e()],1)},ie=[],ne=(a("c789"),a("cd42")),se=a("f23d"),oe=a("d225"),le=a("b0b4"),re=a("308d"),ce=a("6bb5"),ue=a("4e2b"),de=function(t){function e(){return Object(oe["a"])(this,e),Object(re["a"])(this,Object(ce["a"])(e).apply(this,arguments))}return Object(ue["a"])(e,t),Object(le["a"])(e,[{key:"commands",value:function(t){var e=t.type;return function(t){return function(a,i){var n=a.selection,s=n.$cursor?n.$cursor.pos:n.$to.pos,o=e.create(t),l=a.tr.insert(s,o);i(l)}}}},{key:"name",get:function(){return"iframe"}},{key:"schema",get:function(){return{attrs:{src:{default:null},height:{default:null},width:{default:null}},group:"block",selectable:!1,parseDOM:[{tag:"iframe",getAttrs:function(t){return{height:t.getAttribute("height"),width:t.getAttribute("width"),src:t.getAttribute("src")}}}],toDOM:function(t){return["iframe",{src:t.attrs.src,width:t.attrs.width,height:t.attrs.height,frameborder:0,allowfullscreen:"true"}]}}}},{key:"view",get:function(){return{props:["node","updateAttrs","view"],computed:{src:{get:function(){return this.node.attrs.src},set:function(t){this.updateAttrs({src:t})}},height:{get:function(){return this.node.attrs.height},set:function(t){this.updateAttrs({height:t})}},width:{get:function(){return this.node.attrs.width},set:function(t){this.updateAttrs({width:t})}}},template:'\n        <div class="iframe">\n          <iframe class="iframe__embed" :src="src" :height="height" :width="width"></iframe>\n        </div>\n      '}}}]),e}(ne["f"]),pe=function(t){function e(){return Object(oe["a"])(this,e),Object(re["a"])(this,Object(ce["a"])(e).apply(this,arguments))}return Object(ue["a"])(e,t),Object(le["a"])(e,[{key:"commands",value:function(t){var e=t.type;return function(t){return function(a,i){var n=a.selection,s=n.$cursor?n.$cursor.pos:n.$to.pos,o=e.create(t),l=a.tr.insert(s,o);i(l)}}}},{key:"name",get:function(){return"ilink"}},{key:"schema",get:function(){var t=this;return{attrs:{href:{default:null},titleText:{default:"Open"},type:{default:"link"}},group:"block",selectable:!0,parseDOM:[{tag:"a",getAttrs:function(e){return{href:e.getAttribute("herf"),target:"_blank",dataType:t.type}}}],toDOM:function(t){return["a",{href:t.attrs.href,class:"ilink__embed",target:"_blank",dataType:t.attrs.type},"".concat(t.attrs.titleText)]}}}},{key:"view",get:function(){return{props:["node","updateAttrs","view"],computed:{href:{get:function(){return this.node.attrs.href},set:function(t){this.updateAttrs({href:t})}},titleText:{get:function(){return this.node.attrs.titleText},set:function(t){this.updateAttrs({titleText:t})}},type:{get:function(){return this.node.attrs.type},set:function(t){this.updateAttrs({type:t})}}},template:'\n        <div class="ilink">\n            <a class="ilink__embed" :href="href" target="_blank" :dataType="type">{{titleText}}</a>\n        </div>\n      '}}}]),e}(ne["f"]),me=a("a9de"),fe=function(t){function e(){return Object(oe["a"])(this,e),Object(re["a"])(this,Object(ce["a"])(e).apply(this,arguments))}return Object(ue["a"])(e,t),Object(le["a"])(e,[{key:"commands",value:function(t){var e=t.type,a=t.schema;return function(t){return Object(me["p"])(e,a.nodes.paragraph,t)}}},{key:"name",get:function(){return"paragraph"}},{key:"schema",get:function(){return{attrs:{textAlign:{default:"left"}},content:"inline*",group:"block",draggable:!1,parseDOM:[{tag:"p",getAttrs:function(t){return{textAlign:t.style.textAlign||"left"}}}],toDOM:function(t){return["p",{style:"text-align: ".concat(t.attrs.textAlign)},0]}}}}]),e}(ne["f"]),he=(a("3b2b"),ne["f"],a("ac6a"),a("5df3"),a("1c4c"),a("768b")),ge=/!\[(.+|:?)\]\((\S+)(?:(?:\s+)["'](\S+)["'])?\)/,be=function(t){function e(){return Object(oe["a"])(this,e),Object(re["a"])(this,Object(ce["a"])(e).apply(this,arguments))}return Object(ue["a"])(e,t),Object(le["a"])(e,[{key:"commands",value:function(t){var e=t.type;return function(t){return function(a,i){var n=a.selection,s=n.$cursor?n.$cursor.pos:n.$to.pos,o=e.create(t),l=a.tr.insert(s,o);i(l)}}}},{key:"inputRules",value:function(t){var e=t.type;return[Object(me["g"])(ge,e,(function(t){var e=Object(he["a"])(t,3),a=e[0],i=e[1],n=e[2];return{src:i,alt:a,title:n}}))]}},{key:"name",get:function(){return"iimage"}},{key:"schema",get:function(){return{inline:!0,attrs:{src:{default:null},alt:{default:null},title:{default:null},width:{default:"100%"},style:{default:this.width}},group:"inline",selectable:!0,parseDOM:[{tag:"img[src]",getAttrs:function(t){return{src:t.getAttribute("src"),title:t.getAttribute("title"),alt:t.getAttribute("alt")}}}],toDOM:function(t){return["img",{src:t.attrs.src,alt:t.attrs.alt,width:t.attrs.width,style:t.attrs.style}]}}}},{key:"view",get:function(){return{props:["node","updateAttrs","view"],computed:{src:{get:function(){return this.node.attrs.src},set:function(t){this.updateAttrs({src:t})}}},template:"\n        <img :src=\"src\" width='100%' />\n      "}}},{key:"plugins",get:function(){return[new ne["g"]({props:{handleDOMEvents:{drop:function(t,e){var a=e.dataTransfer&&e.dataTransfer.files&&e.dataTransfer.files.length;if(a){var i=Array.from(e.dataTransfer.files).filter((function(t){return/image/i.test(t.type)}));if(0!==i.length){e.preventDefault();var n=t.state.schema,s=t.posAtCoords({left:e.clientX,top:e.clientY});i.forEach((function(e){var a=new FileReader;a.onload=function(e){var a=n.nodes.image.create({src:e.target.result}),i=t.state.tr.insert(s.pos,a);t.dispatch(i)},a.readAsDataURL(e)}))}}}}}})]}}]),e}(ne["f"]),ve={name:"texteditor",props:{text:String,base:String},components:{EditorMenuBar:ne["c"],EditorContent:ne["b"],uploadWindow:ee},data:function(){return{api_getLink:"/data/getlink/",editor:null,dialog_link_v:!1,input_link:"",upload_win:!1,current_command:"",upload_state:!1,upload_res:"",upload_win_url:!0,upload_win_type:"all"}},created:function(){},mounted:function(){var t=this;this.editor=new ne["a"]({content:t.text,extensions:[new se["a"],new se["e"],new se["f"],new se["g"]({levels:[1,2,3]}),new se["i"],new se["c"],new se["m"],new se["l"],new se["o"],new se["p"],new se["b"],new se["d"],new se["j"],new se["k"],new se["n"],new se["q"],new se["h"],new de,new pe,new fe,new be({base:this.base})],onUpdate:function(){t.$emit("update",this.getHTML())}})},watch:{},beforeDestroy:function(){this.editor.destroy()},methods:{uploadHandler:function(t){var e=t.data;if("Image"===t.type_des.type)if(t.multiple)for(var a=0;a<e.length;a++)this.addImage(e[a].path,this.current_command,e[a].type);else this.addImage(e.path,this.current_command,e.type);else this.addFile(e.path,e.name,this.current_command,"file")},showUpWin:function(t,e){var a=this;this.upload_win=!0,"Image"===e?(this.upload_win_multiple=!0,this.upload_win_url=!0):(this.upload_win_multiple=!1,this.upload_win_url=!1),this.upload_win_type=e,this.current_command="",this.$nextTick((function(){a.current_command=t}))},closeUpWin:function(){this.upload_win=!1},showIframePrompt:function(t){var e=this;this.$prompt("Input Video Url","Insert",{confirmButtonText:"OK",cancelButtonText:"Cancel",inputPlaceholder:"Input url link from <iframe> tag src= attrribute"}).then((function(a){var i=a.value;null!=i&&e.addIframe(i,t),e.$message({type:"success",message:"Video Added"})})).catch((function(t){}))},showLinkDialog:function(t){var e=prompt("Input Website Link");e&&this.addLink(e,t)},addImage:function(t,e){t&&(t=-1==t.indexOf("myqcloud")?this.base+t:"https://"+t,e({src:t,width:"100%"}),this.closeUpWin())},addFile:function(t,e,a){t&&(a({href:t,titleText:e}),this.closeUpWin())},addIframe:function(t,e){t&&e({src:t,height:"300px",width:"600px"})},addLink:function(t,e){x(this.base+this.api_getLink,[{name:"link",val:t}],(function(a){var i="Open Link: ";if(a.status){var n=a.data,s=n.split(":");i=s[1],e({href:t,titleText:i})}else e({href:t,titleText:i})}))},openLink:function(t){window.open(t,"_blank")}}},_e=ve,ye=(a("393d"),Object(W["a"])(_e,ae,ie,!1,null,"61009f06",null)),we=ye.exports,ke={name:"postsingle",components:{WSubTitle:ut,TextEditor:we,uploadWindow:ee},props:{base:String},data:function(){return{pid:1,api:"/data/post_single/",api_cate:"/data/cate/",api_up:"/updater/post_single/",upload_win:!1,mode:"update",postData:{title:"",title_sublang:"",title_img:"",content:"",content_sublang:"",cateId:"1",brief:"",brief_sublang:"",date_pub:"0",date_modi:"0",ux_likes:"0",ux_visit:"0",status:0,authorId:""},postCate:"",postLang:"0",postStatus:0,owDatePub:!1,owDateModi:!1,postCateOptions:[],postStatusOptions:[{sid:0,sname:"Draft"},{sid:1,sname:"Publish"},{sid:3,sname:"P & Unlisted"},{sid:2,sname:"Deprecated"}],editMode:"view",loaded:!1,cateLoaded:!1,contOpen:!0,upLoading:!1}},http:{emulateJSON:!0,emulateHTTP:!0},created:function(){var t=this;this.pid=this.$route.query.pid?this.$route.query.pid:"new","new"==this.pid?(this.mode="new",this.loaded=!0):(this.mode="update",this.loaded=!1,this.$nextTick((function(){t.getData()}))),this.$nextTick((function(){t.getCate()}))},watch:{postLang:function(){var t=this;this.loaded&&this.$nextTick((function(){t.updateCont()}))}},methods:{uploadHandler:function(t){var e=t.data;"Image"===e.type.type?this.setTitleImg(e.path):this.$notify({title:"Title image must be an image",message:"Please check if you uploaded an image file",type:"warning"})},goBack:function(){this.$router.push({path:"./postslist"})},getData:function(){var t=this;this.upLoading=!0,x(this.base+this.api,[{name:"pid",val:this.pid}],(function(e){if(e.status){var a=e.data[0];a.content=Object(c["decodeRichText"])(a.content),a.content_sublang=Object(c["decodeRichText"])(a.content_sublang),a.content=Object(c["decodeImgSrc"])(a.content,t.base),a.content_sublang=Object(c["decodeImgSrc"])(a.content_sublang,t.base),a.status=Number(a.status),t.postData=a,t.$nextTick((function(){t.loaded=!0,t.upLoading=!1}))}}))},getCate:function(){var t=this;x(this.base+this.api_cate,[],(function(e){e.status&&(t.postCateOptions=e.data,t.$nextTick((function(){t.cateLoaded=!0})))}))},textUpdate:function(t){"0"===this.postLang?this.postData.content=t:this.postData.content_sublang=t},updateCont:function(){var t=this;this.contOpen=!1,this.$nextTick((function(){t.contOpen=!0}))},updateAll:function(){var t=this;"new"!==this.mode?(this.getData(),this.$nextTick((function(){t.getCate()})),this.$nextTick((function(){t.updateCont()}))):this.goBack()},submit:function(t){var e=this,a=(new Date).toISOString().slice(0,19).replace("T"," ");if(Object(c["isEmpty"])(this.postData.title)||Object(c["isEmpty"])(this.postData.content)||Object(c["limitLength"])("<",this.postData.title,4))return this.$notify({title:"Check Needed",message:"Please check your title or contents is not empty and meet text count requirement",type:"warning"}),void(this.upLoading=!1);this.upLoading=!0;var i=Object(c["encodeImgSrc"])(this.postData.content,this.base);i=Object(c["encodeRichText"])(i);var n=Object(c["encodeImgSrc"])(this.postData.content_sublang,this.base);n=Object(c["encodeRichText"])(n);var s={mode:t||this.mode,pid:this.postData.id,cateId:this.postData.cateId,title:this.postData.title,title_sublang:this.postData.title_sublang,title_img:this.postData.title_img,content:i,content_sublang:n,brief:this.postData.brief,brief_sublang:this.postData.brief_sublang,date_pub:"update"===this.mode?this.postData.date_pub:a,date_modi:a,ux_visit:parseInt(this.postData.ux_visit),ux_likes:parseInt(this.postData.ux_likes),listOrder:parseInt(this.postData.listOrder),authorId:Object(c["getCookie"])("u_uuid"),status:String(this.postData.status)};this.owDatePub&&(s.date_pub=this.postData.date_pub),this.owDateModi&&(s.date_modi=this.postData.date_modi),L(this.base+this.api_up,s,(function(t){t.status?(e.$notify({title:"Success",type:"success"}),e.updateAll(),e.$nextTick((function(){e.goBack()}))):e.$notify({title:"Submit Fail",message:"Error: "+t.error,type:"warning"}),e.upLoading=!1}))},uploadTitleImg:function(){this.upload_win=!0},closeUpWin:function(){this.upload_win=!1},setTitleImg:function(t){this.postData.title_img=t}}},xe=ke,Ce=(a("62fa"),Object(W["a"])(xe,qt,Gt,!1,null,"45e6e3de",null)),Le=Ce.exports,Te=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"all"}},[a("WTitle",{attrs:{txt:"Categories"}}),a("div",{attrs:{id:"new"}},[a("router-link",{attrs:{to:{path:"/catesingle",query:{cateId:"new"}}}},[a("el-button",{attrs:{type:"primary",plain:""}},[t._v("New")])],1)],1),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.upLoading,expression:"upLoading"}],attrs:{id:"list"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.catesList,border:""}},[a("el-table-column",{attrs:{fixed:"",prop:"cname",label:"Category Name",width:"150"}}),a("el-table-column",{attrs:{prop:"cname_sublang",label:"分类名称",width:"120"}}),a("el-table-column",{attrs:{prop:"des",label:"Description",width:"120"}}),a("el-table-column",{attrs:{prop:"des_sublang",label:"分类描述",width:"120"}}),a("el-table-column",{attrs:{prop:"total",label:"Posts",width:"120"}}),a("el-table-column",{attrs:{fixed:"right",label:"Action",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("router-link",{attrs:{to:{path:"/catesingle",query:{cateId:e.row.id}}}},[a("el-button",{attrs:{type:"text",size:"small"}},[t._v("Edit")])],1)]}}])})],1)],1)],1)},Se=[],Oe={name:"cateslist",components:{WTitle:Mt},props:{base:String},data:function(){return{api:"/data/cate/",catesList:[],upLoading:!1}},http:{emulateJSON:!0,emulateHTTP:!0},created:function(){this.getList()},methods:{getList:function(){this.upLoading=!0;var t=this;x(this.base+this.api,[],(function(e){e.status&&e.data.length>0&&(t.catesList=e.data,t.upLoading=!1)}))}}},De=Oe,$e=(a("23e1"),Object(W["a"])(De,Te,Se,!1,null,"21b77912",null)),Ie=$e.exports,je=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.upLoading,expression:"upLoading"}],attrs:{id:"all"}},[a("div",{attrs:{id:"title"}},[a("el-page-header",{attrs:{title:"Back",content:"Edit Category"},on:{back:t.goBack}})],1),a("div",{attrs:{id:"lang"}},[a("el-radio-group",{staticStyle:{"margin-bottom":"30px"},model:{value:t.postLang,callback:function(e){t.postLang=e},expression:"postLang"}},[a("el-radio-button",{attrs:{label:"0"}},[t._v("English")]),a("el-radio-button",{attrs:{label:"1"}},[t._v("中文")])],1)],1),a("div",{attrs:{id:"form"}},["0"===t.postLang?a("span",[t._v("Category Name")]):t._e(),"1"===t.postLang?a("span",[t._v("分类名称")]):t._e(),a("br"),a("div",{attrs:{id:"form-name"}},["0"===t.postLang?a("el-input",{attrs:{placeholder:"Please Input Name"},model:{value:t.cateData.cname,callback:function(e){t.$set(t.cateData,"cname",e)},expression:"cateData.cname"}}):t._e(),"1"===t.postLang?a("el-input",{attrs:{placeholder:"请输入分类名称"},model:{value:t.cateData.cname_sublang,callback:function(e){t.$set(t.cateData,"cname_sublang",e)},expression:"cateData.cname_sublang"}}):t._e()],1),a("br"),"0"===t.postLang?a("span",[t._v("Category Description")]):t._e(),"1"===t.postLang?a("span",[t._v("分类描述")]):t._e(),a("br"),a("div",{attrs:{id:"form-text"}},["0"===t.postLang?a("el-input",{attrs:{type:"textarea",rows:3,placeholder:"Please Input Description"},model:{value:t.cateData.des,callback:function(e){t.$set(t.cateData,"des",e)},expression:"cateData.des"}}):t._e(),"1"===t.postLang?a("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入分类描述"},model:{value:t.cateData.des_sublang,callback:function(e){t.$set(t.cateData,"des_sublang",e)},expression:"cateData.des_sublang"}}):t._e()],1),a("br"),"0"===t.postLang?a("span",[t._v("Hide Category in Listview")]):t._e(),"1"===t.postLang?a("span",[t._v("列表隐藏分类")]):t._e(),a("br"),a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.cateData.hide,callback:function(e){t.$set(t.cateData,"hide",e)},expression:"cateData.hide"}}),a("br"),a("br"),a("div",{staticClass:"submit",attrs:{id:"submit"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submit()}}},[t._v("Save")]),"update"===t.mode?a("el-button",{staticStyle:{color:"#FF5C5C"},attrs:{type:"text",size:"small"},on:{click:function(e){return t.submit("del")}}},[t._v("Delete")]):t._e()],1)],1)])},Ee=[],Ae={name:"catesingle",props:{base:String},components:{},data:function(){return{api:"/data/cate/",api_up:"/updater/cate_single/",cateData:{cname:"",cname_sublang:"",des:"",des_sublang:"",hide:0},postLang:"0",mode:"update",upLoading:!1}},created:function(){this.cateId=this.$route.query.cateId,"new"===this.cateId?this.mode="new":this.getData()},methods:{goBack:function(){this.$router.push({path:"./cateslist"})},getData:function(){var t=this;this.upLoading=!0,x(this.base+this.api,[{name:"cid",val:this.cateId}],(function(e){e.status&&(t.cateData=e.data[0],t.cateData.hide="0"!=e.data[0].hide),t.upLoading=!1}))},submit:function(t){var e=this;if(Object(c["isEmpty"])(this.cateData.cname)||Object(c["isEmpty"])(this.cateData.des))this.$notify({title:"Check Needed",message:"Please check your name or description is not empty",type:"warning"});else{this.upLoading=!0;var a={mode:t||this.mode,cid:this.cateId,cname:this.cateData.cname,cname_sublang:this.cateData.cname_sublang,des:this.cateData.des,des_sublang:this.cateData.des_sublang,hide:this.cateData.hide?"1":"0"};L(this.base+this.api_up,a,(function(t){t.status?(e.$notify({title:"Success",message:"",type:"success"}),e.$nextTick((function(){e.goBack()}))):e.$notify({title:"Fail",message:"Error: "+t.data,type:"warning"}),e.upLoading=!1}))}}}},Ne=Ae,Pe=(a("603a"),Object(W["a"])(Ne,je,Ee,!1,null,"622f59fe",null)),Ue=Pe.exports,We=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"all"}},[a("WTitle",{attrs:{txt:"Media Library"}}),a("div",{attrs:{id:"new"}},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){return t.toNewFile()}}},[t._v("Add")])],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":t.pageSize,total:t.filesListTotal},on:{"current-change":t.changePage}})],1),a("div",{staticClass:"searchBar"},[a("el-input",{attrs:{placeholder:"Search",clearable:""},model:{value:t.searchVal,callback:function(e){t.searchVal=e},expression:"searchVal"}}),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.search()}}},[t._v("Find")])],1),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.upLoading,expression:"upLoading"}],attrs:{id:"list"}},[a("div",{attrs:{id:"file-grid"}},t._l(t.filesListAll,(function(e){return a("div",{key:e.id,staticClass:"file-single"},[a("div",{staticClass:"file-single-img"},[a("el-image",{staticClass:"file-single-img-img",style:"Image"===e.type_des?"width: 180px; height: 180px":"width: 60px; height: 60px;margin-top: 60px;margin-left: 30px;",attrs:{src:t.getSrc(e.path,e.type_des,e.type),fit:"Image"===e.type_des?"contain":"scale-down","preview-src-list":[t.base+e.path],lazy:""}},[a("div",{staticClass:"au_img_placeholder",attrs:{slot:"placeholder"},slot:"placeholder"},[a("span",[t._v("Loading")])])]),"Image"!==e.type_des?a("span",{staticClass:"file-single-des"},[t._v("\n                      "+t._s(e.type_des)+"\n                  ")]):t._e()],1),a("div",{staticClass:"file-single-action"},[a("div",{staticClass:"file-name"},[a("span",[t._v(t._s(t.realFileName(e.name,18)))])]),a("div",{staticClass:"file-single-btn",on:{click:function(a){return t.toCopyLink(t.base+e.path)}}},[a("span",[t._v("URL")])]),a("div",{staticClass:"file-single-btn",on:{click:function(a){return t.toOpenFile(t.base+e.path)}}},[a("span",[t._v("Open")])]),a("div",{staticClass:"file-single-btn",on:{click:function(a){return t.toDelFile(e.id,e.path,e.seed,e.name,e.isCOS)}}},[a("span",{staticStyle:{color:"#F56C6C"}},[t._v("Remove")])])])])})),0)]),t.upload_win?a("upload-window",{attrs:{base:t.base,allowMultiple:!0,allowUrl:!1,allowSelect:!1},on:{uploaded:t.uploadHandler,close:t.closeUpWin}}):t._e()],1)},Be=[],Fe={name:"fileslist",components:{WTitle:Mt,uploadWindow:ee},props:{base:String},data:function(){return{static_icons_url:"/static/icons/",api:"/manager/all_media/",api_file_del:"/manager/file_del/",api_search:"/manager/s_media/",api_tosTmpKey:"/data_enc/cos_enc/",filesListAll:[],filesListRes:[],filesListTotal:0,searchVal:"",page:1,pageSize:10,upload_win:!1,upLoading:!1}},http:{emulateJSON:!0,emulateHTTP:!0},created:function(){this.getList(1)},watch:{searchVal:function(){1===this.searchVal.length&&this.searchClear()}},methods:{uploadHandler:function(){this.updateAll()},closeUpWin:function(){this.upload_win=!1},getList:function(t){this.upLoading=!0;var e=this;this.pageSize=Math.floor(window.innerWidth/120),this.pageSize%2!=0&&this.pageSize++;var a=this.pageToLimit(t),i=[{name:"ls",val:a},{name:"size",val:this.pageSize},{name:"file",val:"all"}];x(this.base+this.api,i,(function(t){t.status&&(e.filesListTotal=parseInt(t.data.total),e.filesListTotal>0&&e.$nextTick((function(){e.filesListRes=t.data.data,e.filesListAll=e.filesListRes}))),e.upLoading=!1}))},getSrc:function(t,e,a){var i;return i="Image"==e?-1==t.indexOf("myqcloud")?this.base+t:"https://"+t:this.base+this.static_icons_url+this.getIcon(a),i},cosDel:function(t){var e=Object(c["getGlobalStatus"])("poster_cos_bucket"),a=Object(c["getGlobalStatus"])("poster_cos_region");_(this.base+this.api_tosTmpKey,e,a,t,(function(t){t.status}))},search:function(){var t=this,e=[{name:"s",val:this.searchVal}];x(this.base+this.api_search,e,(function(e){t.filesListAll=e.data}))},searchClear:function(){this.filesListAll=this.filesListRes},changePage:function(t){this.getList(t)},pageToLimit:function(t){return 10*(t-1)},getIcon:function(t){return Object(c["getFileIcon"])(t)},toNewFile:function(){this.upload_win=!0},toCopyLink:function(t){this.$clipboard(t),this.$notify({title:"URL has copied",type:"success"})},toOpenFile:function(t){window.open(t)},toDelFile:function(t,e,a,i,n){n&&this.cosDel(i);var s=this;a="-1"!=a?a:"no",this.$confirm("You will delete a file permanently, continue?","Alert",{confirmButtonText:"DELETE",cancelButtonText:"Cancel",type:"warning"}).then((function(){s.upLoading=!0;var i={fid:t,fseed:a,fpath:e,isCOS:n};S(s.base+s.api_file_del,i,(function(t){1===t.status||2===t.status?s.$notify({title:"Deleted",type:"success"}):3===t.status?s.$notify({title:"Can't delete record, file remains.",message:"Error:"+t.data,type:"warning"}):4===t.status?s.$notify({title:"Record deleted, can't delete the file",message:"Error:"+t.data,type:"warning"}):s.$notify({title:"Unknow error",message:"Error:"+t.error,type:"warning"}),s.updateAll(),s.upLoading=!1}))})).catch((function(){s.$notify({title:"Cancelled",type:"warning"})}))},updateAll:function(){this.filesListAll=[],this.getList(this.page)},realFileName:function(t,e){var a,i=t.split("_");return a=Object(c["strLenLimit"])(i[i.length-1],e),a}}},Me=Fe,Re=(a("e441"),Object(W["a"])(Me,We,Be,!1,null,"45d47112",null)),He=Re.exports,ze=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"all"}},[a("WTitle",{attrs:{txt:"Visitors"}}),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.upLoading,expression:"upLoading"}],attrs:{id:"list"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.visitorList,border:""}},[a("el-table-column",{attrs:{fixed:"",prop:"ip",label:"IP",width:"120"}}),a("el-table-column",{attrs:{prop:"ipCountry",label:"Country",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[a("img",{staticStyle:{width:"20px"},attrs:{src:e.row.flagIcon,alt:e.row.ipCountry}}),a("span",[t._v(" "+t._s(e.row.ipCountry))])])]}}])}),a("el-table-column",{attrs:{prop:"appName",label:"Browser",width:"100"}}),a("el-table-column",{attrs:{prop:"userLanguage",label:"Language",width:"90"}}),a("el-table-column",{attrs:{prop:"platform",label:"Platform",width:"80"}}),a("el-table-column",{attrs:{prop:"Geo Location",label:"geoLocation",width:"320"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{color:"#409EFF",cursor:"pointer"},on:{click:function(a){return t.toMap(e.row.geoLocation)}}},[t._v(t._s(e.row.geoLocation))])]}}])}),a("el-table-column",{attrs:{prop:"userAgent",label:"User Agent",width:"400"}})],1)],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":t.pageSize,total:t.visitorListTotal},on:{"current-change":t.changePage}})],1)],1)},Ve=[],qe={name:"postlist",components:{WTitle:Mt},props:{base:String},data:function(){return{api:"/data_enc/visitor_list_enc/",visitorList:[],visitorListTotal:0,page:0,pageSize:30,upLoading:!1}},http:{emulateJSON:!0,emulateHTTP:!0},created:function(){this.getList(1)},methods:{getList:function(t){this.upLoading=!0;var e=this,a=this.pageToLimit(t),i={ls:a,size:this.pageSize};C(this.base+this.api,i,(function(t){t.status&&(e.visitorListTotal=parseInt(t.data.total),e.visitorListTotal>0&&(e.visitorList=t.data.data)),e.upLoading=!1}))},changePage:function(t){this.getList(t)},pageToLimit:function(t){return(t-1)*this.pageSize},toMap:function(t){var e=t.split(",");window.open("https://wego.here.com/?map="+e[0].slice(0,8)+","+e[1].slice(0,8)+",13,normal")}}},Ge=qe,Je=(a("d9f0"),Object(W["a"])(Ge,ze,Ve,!1,null,"5349eaab",null)),Ke=Je.exports,Xe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"all"}},[a("WTitle",{attrs:{txt:"Your visit has marked"}})],1)},Ye=[],Ze={name:"visittest",components:{WTitle:Mt},props:{base:String},data:function(){return{api_ip:"/data/getip/",api_getIpInfo:"http://api.ipstack.com/",api_key:"?access_key=4a0d7c9b3e1b25a888b23bea248723dd",api_up:"/updater/visit/",userInfoRes:{}}},http:{emulateJSON:!0,emulateHTTP:!0},created:function(){var t=this;setTimeout((function(){t.getIp()}),500)},methods:{getIp:function(){$(this.base+this.api_up)}}},Qe=Ze,ta=(a("d93a"),Object(W["a"])(Qe,Xe,Ye,!1,null,"c97bde2e",null)),ea=ta.exports,aa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"all"}},[a("WTitle",{attrs:{txt:"Your visit has marked"}})],1)},ia=[],na={name:"visittestadm",components:{WTitle:Mt},props:{base:String},data:function(){return{api_ip:"/data/getip/",api_up:"/updater/visit_adm/",userInfoRes:{}}},http:{emulateJSON:!0,emulateHTTP:!0},created:function(){var t=this;setTimeout((function(){t.getIp()}),500)},methods:{getIp:function(){I(this.base+this.api_up)}}},sa=na,oa=(a("2d6f"),Object(W["a"])(sa,aa,ia,!1,null,"ae1c2b48",null)),la=oa.exports,ra=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"all"}},[a("WTitle",{attrs:{txt:"Website Settings"}}),a("WSubTitle",{attrs:{txt:"Site Basic"}}),a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.upLoading,expression:"upLoading"}],ref:"form",staticClass:"form",attrs:{model:t.form,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"Title"}},[a("el-input",{model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),a("el-form-item",{attrs:{label:"Subtitle"}},[a("el-input",{model:{value:t.form.subtitle,callback:function(e){t.$set(t.form,"subtitle",e)},expression:"form.subtitle"}})],1),a("el-form-item",{attrs:{label:"Description"}},[a("el-input",{model:{value:t.form.desText,callback:function(e){t.$set(t.form,"desText",e)},expression:"form.desText"}})],1),a("el-form-item",{attrs:{label:"SEO Name"}},[a("el-input",{model:{value:t.form.seoTitle,callback:function(e){t.$set(t.form,"seoTitle",e)},expression:"form.seoTitle"}})],1),a("el-form-item",{attrs:{label:"URL"}},[a("el-input",{model:{value:t.form.baseUrl,callback:function(e){t.$set(t.form,"baseUrl",e)},expression:"form.baseUrl"}})],1),a("el-form-item",{attrs:{"el-form-item":"",label:"Tencent COS"}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.form.tp_cos_enable,callback:function(e){t.$set(t.form,"tp_cos_enable",e)},expression:"form.tp_cos_enable"}})],1),t.form.tp_cos_enable?a("div",[a("el-form-item",{attrs:{label:"COS Bucket"}},[a("el-input",{model:{value:t.form.tp_cos_bucket,callback:function(e){t.$set(t.form,"tp_cos_bucket",e)},expression:"form.tp_cos_bucket"}})],1),a("el-form-item",{attrs:{label:"COS Region"}},[a("el-input",{model:{value:t.form.tp_cos_region,callback:function(e){t.$set(t.form,"tp_cos_region",e)},expression:"form.tp_cos_region"}})],1),a("el-form-item",{attrs:{label:"COS Key"}},[a("el-input",{model:{value:t.form.tp_cos_key,callback:function(e){t.$set(t.form,"tp_cos_key",e)},expression:"form.tp_cos_key"}})],1),a("el-form-item",{attrs:{label:"COS Id"}},[a("el-input",{model:{value:t.form.tp_cos_id,callback:function(e){t.$set(t.form,"tp_cos_id",e)},expression:"form.tp_cos_id"}})],1)],1):t._e(),a("el-form-item",{attrs:{label:"Cookie Notice"}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.form.isCookieNotice,callback:function(e){t.$set(t.form,"isCookieNotice",e)},expression:"form.isCookieNotice"}})],1),a("el-form-item",{attrs:{label:"Site Logo"}},[a("el-image",{staticClass:"file-single-img-img",staticStyle:{width:"180px",height:"180px"},attrs:{src:t.form.siteLogo,fit:"contain","preview-src-list":[t.form.siteLogo]}},[a("div",{staticClass:"au_img_placeholder",attrs:{slot:"placeholder"},slot:"placeholder"},[a("span",[t._v("Loading")])])]),a("br"),a("el-button",{on:{click:t.upSiteLogo}},[t._v("Upload")])],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("Save")])],1)],1),a("div",[a("WSubTitle",{attrs:{txt:"SEO Keywords"}}),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.upLoading,expression:"upLoading"}],staticClass:"keywords"},[t._l(t.keywords,(function(e){return a("el-tag",{key:e,attrs:{closable:"","disable-transitions":!1},on:{close:function(a){return t.tagDel(e)}}},[t._v("\n            "+t._s(e)+"\n        ")])})),t.inputVisible?a("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"small"},on:{blur:t.tagSubmit},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.tagSubmit(e)}},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}}):a("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:t.showInput}},[t._v("+ New Tag")])],2)],1),t.upload_win?a("upload-window",{attrs:{base:t.base,allowUrl:!1,allowSelect:!0},on:{uploaded:t.uploadHandler,close:t.closeUpWin}}):t._e()],1)},ca=[],ua={name:"postlist",components:{WTitle:Mt,WSubTitle:ut,uploadWindow:ee},props:{base:String},data:function(){return{api:"/data_enc/basic_enc/",api_up:"/updater/basic/",form:{},keywords:[],inputVisible:!1,inputValue:"",upLoading:!1,mode:"normal",upload_win:!1}},http:{emulateJSON:!0,emulateHTTP:!0},created:function(){this.getData()},methods:{getData:function(){this.upLoading=!0;var t=this;C(this.base+this.api,{},(function(e){if(e.status){var a=e.data[0];a.title=Object(c["decodeRichText"])(a.title),a.subtitle=Object(c["decodeRichText"])(a.subtitle),a.desText=Object(c["decodeRichText"])(a.desText),a.seoTitle=Object(c["decodeRichText"])(a.seoTitle),a.tp_cos_enable=1==a.tp_cos_enable,a.isCookieNotice="true"===a.isCookieNotice,t.form=a,t.keywords=a.keywords.split(","),Object(c["saveGlobalStatus"])([{name:"poster_cos_enable",value:a.tp_cos_enable},{name:"poster_cos_bucket",value:a.tp_cos_bucket},{name:"poster_cos_region",value:a.tp_cos_region}])}t.upLoading=!1}))},tagSubmit:function(){if(this.inputValue.length<1)this.closeTagInput();else{if(!this.checkArrDuplicate(this.inputValue,this.keywords))return this.closeTagInput(),void this.$notify({title:"Tags Duplicated",type:"warning"});this.keywords.push(this.inputValue),this.mode="keywords";var t={mode:this.mode,keywords:this.keywords.join()};this.upData(t),this.closeTagInput()}},tagDel:function(t){this.mode="keywords",this.keywords.splice(this.keywords.indexOf(t),1);var e={mode:this.mode,keywords:this.keywords.join()};this.upData(e),this.closeTagInput()},uploadHandler:function(t){var e=t.data;"Image"===e.type.type?this.form.siteLogo=e.path:this.$notify({title:"Site Logo must be an image",type:"warning"})},upSiteLogo:function(){this.upload_win=!0},closeUpWin:function(){this.upload_win=!1},closeTagInput:function(){this.inputVisible=!1,this.inputValue=""},checkArrDuplicate:function(t,e){for(var a=0;a<e.length;a++)if(t===e[a])return!1;return!0},submit:function(){if(Object(c["isEmpty"])(this.form.title)||Object(c["isEmpty"])(this.form.baseUrl))this.$notify({title:"Check Needed",message:"Please check your title or site url is not empty and meet text count requirement",type:"warning"});else if(this.form.tp_cos_enable&&(Object(c["isEmpty"])(this.form.tp_cos_key)||Object(c["isEmpty"])(this.form.tp_cos_id)||Object(c["isEmpty"])(this.form.tp_cos_bucket)||Object(c["isEmpty"])(this.form.tp_cos_region)))this.$notify({title:"Check Needed",message:"You need key, token, bucket and region for enabling COS",type:"warning"});else{this.mode="normal";var t={mode:this.mode,title:Object(c["encodeRichText"])(this.form.title),subtitle:Object(c["encodeRichText"])(this.form.subtitle),siteLogo:this.form.siteLogo,desText:Object(c["encodeRichText"])(this.form.desText),baseUrl:this.form.baseUrl,seoTitle:Object(c["encodeRichText"])(this.form.seoTitle),tp_cos_enable:this.form.tp_cos_enable?1:0,tp_cos_key:this.form.tp_cos_key?this.form.tp_cos_key:"",tp_cos_id:this.form.tp_cos_id?this.form.tp_cos_id:"",tp_cos_bucket:this.form.tp_cos_bucket?this.form.tp_cos_bucket:"",tp_cos_region:this.form.tp_cos_region?this.form.tp_cos_region:"",isCookieNotice:this.form.isCookieNotice};this.upData(t),this.closeTagInput()}},upData:function(t){var e=this;this.upLoading=!0,L(this.base+this.api_up,t,(function(t){t.status?(e.$notify({title:"Submitted",type:"success"}),e.getData()):e.$notify({title:"Submit Fail",message:"Error: "+t.error,type:"warning"}),e.upLoading=!1}))},showInput:function(){var t=this;this.inputVisible=!0,this.$nextTick((function(){t.$refs.saveTagInput.$refs.input.focus()}))}}},da=ua,pa=(a("5da9"),Object(W["a"])(da,ra,ca,!1,null,"210021a3",null)),ma=pa.exports,fa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"all"}},[a("WTitle",{attrs:{txt:"Master Account"}}),a("WSubTitle",{attrs:{txt:"Settings"}}),a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.upLoading,expression:"upLoading"}],ref:"form",staticClass:"form",attrs:{model:t.form,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"Name"}},[a("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"Email"}},[a("el-input",{model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),a("el-form-item",{attrs:{label:"Avatar"}},[a("el-image",{staticClass:"file-single-img-img",staticStyle:{width:"180px",height:"180px"},attrs:{src:t.base+t.form.avatar,fit:"contain","preview-src-list":[t.base+t.form.avatar]}},[a("div",{staticClass:"au_img_placeholder",attrs:{slot:"placeholder"},slot:"placeholder"},[a("span",[t._v("Loading")])])]),a("br"),a("el-button",{on:{click:t.upAvatar}},[t._v("Upload")])],1),a("el-form-item",{attrs:{label:"PIN"}},[a("el-input",{attrs:{type:"password"},model:{value:t.form.pin,callback:function(e){t.$set(t.form,"pin",e)},expression:"form.pin"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("Save")])],1)],1),t.upload_win?a("upload-window",{attrs:{base:t.base,allowUrl:!0,allowSelect:!0},on:{uploaded:t.uploadHandler,close:t.closeUpWin}}):t._e()],1)},ha=[],ga={name:"adminsettings",components:{WTitle:Mt,WSubTitle:ut,uploadWindow:ee},props:{base:String},data:function(){return{api:"/data_enc/user_enc/",api_up:"/updater/user_up/",form:{},keywords:[],upLoading:!1,admUserId:"1",upload_win:!1}},http:{emulateJSON:!0,emulateHTTP:!0},created:function(){this.getData()},methods:{getData:function(){this.upLoading=!0;var t=this,e={userId:Object(c["getCookie"])("u_uuid")};C(this.base+this.api,e,(function(e){e.status&&(t.form=e.data[0],t.upLoading=!1)}))},upAvatar:function(){this.upload_win=!0},closeUpWin:function(){this.upload_win=!1},uploadHandler:function(t){var e=t.data;"Image"===e.type.type?this.form.avatar=e.path:this.$notify({title:"Avatar (profile image) must be an image",type:"warning"})},submit:function(){var t=this;if(Object(c["isEmpty"])(this.form.name)||Object(c["isEmpty"])(this.form.email)||Object(c["isEmpty"])(this.form.pin))this.$notify({title:"Check Needed",message:"Make sure your name, email, pin is not empty and meet text count requirement",type:"warning"});else{this.upLoading=!0,this.mode="normal";var e={userId:Object(c["getCookie"])("u_uuid"),name:this.form.name,email:this.form.email,avatar:this.form.avatar,pin:this.form.pin};L(this.base+this.api_up,e,(function(e){e.status?(t.$notify({title:"Submitted",type:"success"}),t.getData()):t.$notify({title:"Submit Fail",message:"Error: "+e.data,type:"warning"}),t.upLoading=!1}))}}}},ba=ga,va=(a("60e0"),Object(W["a"])(ba,fa,ha,!1,null,"d5a4a12a",null)),_a=va.exports,ya=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"all"}},[a("WTitle",{attrs:{txt:"Social Media"}}),a("div",{attrs:{id:"new"}},[a("router-link",{attrs:{to:{path:"/socialmediasingle",query:{smId:"new"}}}},[a("el-button",{attrs:{type:"primary",plain:""}},[t._v("New")])],1)],1),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.upLoading,expression:"upLoading"}],attrs:{id:"list"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.smList,border:""}},[a("el-table-column",{attrs:{fixed:"",prop:"name",label:"Name",width:"150"}}),a("el-table-column",{attrs:{prop:"url",label:"URL",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{color:"#409EFF",cursor:"pointer"},on:{click:function(a){return t.toLink(e.row.url)}}},[t._v(t._s(e.row.url))])]}}])}),a("el-table-column",{attrs:{prop:"icon",label:"icon",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[a("img",{staticStyle:{width:"30px"},attrs:{src:t.base+e.row.icon,alt:e.row.name}})])]}}])}),a("el-table-column",{attrs:{fixed:"right",label:"Action",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("router-link",{attrs:{to:{path:"/socialmediasingle",query:{smId:e.row.id}}}},[a("el-button",{attrs:{type:"text",size:"small"}},[t._v("Edit")])],1)]}}])})],1)],1)],1)},wa=[],ka={name:"socialmedialist",components:{WTitle:Mt},props:{base:String},data:function(){return{api:"/data/social_media/",smList:[],upLoading:!1}},http:{emulateJSON:!0,emulateHTTP:!0},created:function(){this.getList()},methods:{getList:function(){this.upLoading=!0;var t=this;x(this.base+this.api,[],(function(e){e.status&&e.data.length>0&&(t.smList=e.data,t.upLoading=!1)}))},toLink:function(t){window.open(t)}}},xa=ka,Ca=(a("c70e"),Object(W["a"])(xa,ya,wa,!1,null,"79b641f5",null)),La=Ca.exports,Ta=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.upLoading,expression:"upLoading"}],attrs:{id:"all"}},[a("div",{attrs:{id:"title"}},[a("el-page-header",{attrs:{title:"Back",content:"Edit Social Media"},on:{back:t.goBack}})],1),a("div",{attrs:{id:"form"}},[a("span",[t._v("Name")]),a("br"),a("div",{attrs:{id:"form-name"}},[a("el-input",{attrs:{placeholder:"Please Input Name"},model:{value:t.smData.name,callback:function(e){t.$set(t.smData,"name",e)},expression:"smData.name"}})],1),a("br"),a("span",[t._v("URL")]),a("br"),a("div",{attrs:{id:"form-url"}},[a("el-input",{attrs:{placeholder:"Please Input URL"},model:{value:t.smData.url,callback:function(e){t.$set(t.smData,"url",e)},expression:"smData.url"}})],1),a("span",[t._v("Icon")]),a("br"),a("div",{attrs:{id:"form-icon"}},[t.smData.icon?a("el-image",{staticClass:"file-single-img-img",staticStyle:{width:"40px",height:"40px"},attrs:{src:t.base+t.smData.icon,fit:"contain"}},[a("div",{staticClass:"au_img_placeholder",attrs:{slot:"placeholder"},slot:"placeholder"},[a("span",[t._v("Loading")])])]):t._e(),a("br"),a("el-button",{on:{click:t.upIcon}},[t._v("Upload")])],1),a("br"),a("div",{staticClass:"submit",attrs:{id:"submit"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submit()}}},[t._v("Save")]),"update"===t.mode?a("el-button",{staticStyle:{color:"#FF5C5C"},attrs:{type:"text",size:"small"},on:{click:function(e){return t.submit("del")}}},[t._v("Delete")]):t._e()],1)]),t.upload_win?a("upload-window",{attrs:{base:t.base,allowUrl:!1,allowSelect:!0},on:{uploaded:t.uploadHandler,close:t.closeUpWin}}):t._e()],1)},Sa=[],Oa={name:"socialmediasingle",props:{base:String},components:{uploadWindow:ee},data:function(){return{api:"/data/social_media/",api_up:"/updater/social_media_single/",smData:{name:"",url:"",icon:""},mode:"update",upLoading:!1,upload_win:!1}},created:function(){this.smId=this.$route.query.smId,"new"===this.smId?this.mode="new":this.getData()},methods:{goBack:function(){this.$router.push({path:"./socialmedialist"})},getData:function(){var t=this;this.upLoading=!0,x(this.base+this.api,[{name:"sid",val:this.smId}],(function(e){e.status&&(t.smData=e.data[0]),t.upLoading=!1}))},submit:function(t){var e=this;if(Object(c["isEmpty"])(this.smData.name)||Object(c["isEmpty"])(this.smData.url))this.$notify({title:"Check Needed",message:"Please check your name or url is not empty",type:"warning"});else{this.upLoading=!0;var a={mode:t||this.mode,smId:this.smId,name:this.smData.name,url:this.smData.url,icon:this.smData.icon};L(this.base+this.api_up,a,(function(t){t.status?(e.$notify({title:"Success",message:"",type:"success"}),e.$nextTick((function(){e.goBack()}))):e.$notify({title:"Fail",message:"Error: "+t.error,type:"warning"}),e.upLoading=!1}))}},upIcon:function(){this.upload_win=!0},closeUpWin:function(){this.upload_win=!1},uploadHandler:function(t){var e=t.data;"Image"===e.type.type?this.smData.icon=e.path:this.$notify({title:"Icon must be an image",type:"warning"})}}},Da=Oa,$a=(a("ed0c"),Object(W["a"])(Da,Ta,Sa,!1,null,"6de29541",null)),Ia=$a.exports,ja=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"all"}},[a("WTitle",{attrs:{txt:"Navigation Bar"}}),a("div",{attrs:{id:"new"}},[a("router-link",{attrs:{to:{path:"/navsingle",query:{navId:"new"}}}},[a("el-button",{attrs:{type:"primary",plain:""}},[t._v("New")])],1)],1),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.upLoading,expression:"upLoading"}],attrs:{id:"list"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.navsList,border:""}},[a("el-table-column",{attrs:{fixed:"",prop:"name",label:"Name",width:"150"}}),a("el-table-column",{attrs:{fixed:"",prop:"name_sublang",label:"坝称",width:"150"}}),a("el-table-column",{attrs:{prop:"url",label:"URL",width:"300"}}),a("el-table-column",{attrs:{fixed:"right",label:"Action",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("router-link",{attrs:{to:{path:"/navsingle",query:{navId:e.row.id}}}},[a("el-button",{attrs:{type:"text",size:"small"}},[t._v("Edit")])],1)]}}])})],1)],1)],1)},Ea=[],Aa={name:"navslist",components:{WTitle:Mt},props:{base:String},data:function(){return{api:"/data/layout_nav/",navsList:[],upLoading:!1}},http:{emulateJSON:!0,emulateHTTP:!0},created:function(){this.getList()},methods:{getList:function(){this.upLoading=!0;var t=this;x(this.base+this.api,[],(function(e){e.status&&e.data.length>0&&(t.navsList=e.data,t.upLoading=!1)}))}}},Na=Aa,Pa=(a("bd75"),Object(W["a"])(Na,ja,Ea,!1,null,"76f2aed9",null)),Ua=Pa.exports,Wa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.upLoading,expression:"upLoading"}],attrs:{id:"all"}},[a("div",{attrs:{id:"title"}},[a("el-page-header",{attrs:{title:"Back",content:"Edit Navigation"},on:{back:t.goBack}})],1),a("div",{attrs:{id:"lang"}},[a("el-radio-group",{staticStyle:{"margin-bottom":"30px"},model:{value:t.postLang,callback:function(e){t.postLang=e},expression:"postLang"}},[a("el-radio-button",{attrs:{label:"0"}},[t._v("English")]),a("el-radio-button",{attrs:{label:"1"}},[t._v("中文")])],1)],1),a("div",{attrs:{id:"form"}},["0"===t.postLang?a("span",[t._v("Name")]):t._e(),"1"===t.postLang?a("span",[t._v("名称")]):t._e(),a("br"),a("div",{attrs:{id:"form-name"}},["0"===t.postLang?a("el-input",{attrs:{placeholder:"Please Name"},model:{value:t.navData.name,callback:function(e){t.$set(t.navData,"name",e)},expression:"navData.name"}}):t._e(),"1"===t.postLang?a("el-input",{attrs:{placeholder:"请输入名称"},model:{value:t.navData.name_sublang,callback:function(e){t.$set(t.navData,"name_sublang",e)},expression:"navData.name_sublang"}}):t._e()],1),a("br"),"0"===t.postLang?a("span",[t._v("URL")]):t._e(),"1"===t.postLang?a("span",[t._v("链接")]):t._e(),a("br"),a("div",{attrs:{id:"form-url"}},[a("el-input",{attrs:{placeholder:"URL"},model:{value:t.navData.url,callback:function(e){t.$set(t.navData,"url",e)},expression:"navData.url"}})],1),a("br"),a("div",{staticClass:"submit",attrs:{id:"submit"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submit()}}},[t._v("Save")]),"update"===t.mode?a("el-button",{staticStyle:{color:"#FF5C5C"},attrs:{type:"text",size:"small"},on:{click:function(e){return t.submit("del")}}},[t._v("Delete")]):t._e()],1)])])},Ba=[],Fa={name:"catesingle",props:{base:String},components:{},data:function(){return{api:"/data/layout_nav/",api_up:"/updater/layout_nav/",navData:{name:"",name_sublang:"",url:""},postLang:"0",mode:"update",upLoading:!1}},created:function(){this.navId=this.$route.query.navId,"new"===this.navId?this.mode="new":this.getData()},methods:{goBack:function(){this.$router.push({path:"./navslist"})},getData:function(){var t=this;this.upLoading=!0,x(this.base+this.api,[{name:"id",val:this.navId}],(function(e){e.status&&(t.navData=e.data[0]),t.upLoading=!1}))},submit:function(){var t=this;if(Object(c["isEmpty"])(this.navData.name)||Object(c["isEmpty"])(this.navData.url))this.$notify({title:"Check Needed",message:"Please check your name or description is not empty",type:"warning"});else{this.upLoading=!0;var e={mode:this.mode,id:this.navId,name:this.navData.name,name_sublang:this.navData.name_sublang,url:this.navData.url};L(this.base+this.api_up,e,(function(e){e.status?(t.$notify({title:"Success",message:"",type:"success"}),t.$nextTick((function(){t.goBack()}))):t.$notify({title:"Fail",message:"Error: "+e.data,type:"warning"}),t.upLoading=!1}))}}}},Ma=Fa,Ra=(a("b7e1"),Object(W["a"])(Ma,Wa,Ba,!1,null,"744d440c",null)),Ha=Ra.exports,za=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.themeImporting,expression:"themeImporting"}],attrs:{id:"all"}},[a("WTitle",{attrs:{txt:"Themes"}}),a("div",{attrs:{id:"new"}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"0","http-request":t.importTheme,"show-file-list":!1}},[a("el-button",{attrs:{size:"small",type:"primary",plain:""}},[t._v("Import Theme")])],1)],1),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.upLoading,expression:"upLoading"}],attrs:{id:"list"}},[a("div",{attrs:{id:"file-grid"}},[t.themesListAll.length<1?a("span",[t._v("List is empty")]):t._e(),t._l(t.themesListAll,(function(e){return a("div",{key:e.id,staticClass:"theme"},[a("div",{staticClass:"theme-img"},[a("el-image",{staticClass:"theme-img-img",staticStyle:{width:"400px",height:"280px"},attrs:{fit:"contain",src:e.preview,"preview-src-list":[e.preview],lazy:""}},[a("div",{staticClass:"au_img_placeholder",attrs:{slot:"placeholder"},slot:"placeholder"},[a("span",[t._v("Loading")])])])],1),a("div",{staticClass:"theme-inner"},[a("div",{staticClass:"theme-info"},[a("span",[t._v("Name: "+t._s(e.name))]),a("br"),a("span",[t._v("Author: "+t._s(e.author))]),a("br"),a("span",[t._v("Version: "+t._s(e.version))])]),a("div",{staticClass:"theme-action"},[a("div",{staticClass:"theme-action-single",on:{click:function(a){return t.useTheme(e.id)}}},[t.activeTheme!=e.id?a("el-button",{attrs:{type:"primary",size:"small"}},[t._v("Use")]):t._e(),t.activeTheme==e.id?a("el-button",{attrs:{type:"info",size:"small",disabled:""}},[t._v("Current")]):t._e()],1),a("div",{staticClass:"theme-action-single",on:{click:function(a){return t.del(e.id)}}},[a("el-button",{attrs:{type:"danger",size:"small",plain:""}},[t._v("Remove")])],1)])])])}))],2)])],1)},Va=[],qa={name:"themeslist",components:{WTitle:Mt},props:{base:String},data:function(){return{static_icons_url:"/static/icons/",api:"/data/themes/",api_up:"/updater/theme/",api_setTheme:"/updater/basic/",themesListAll:[],activeTheme:"",mode:"new",upload_win:!1,upLoading:!1,themeImporting:!1}},http:{emulateJSON:!0,emulateHTTP:!0},created:function(){this.getList()},methods:{uploadHandler:function(){this.updateAll()},closeUpWin:function(){this.upload_win=!1},getList:function(){this.upLoading=!0;var t=this;x(this.base+this.api,[],(function(e){e.status&&(t.activeTheme=e.data.activeTheme,t.themesListAll=e.data.data),t.upLoading=!1}))},importTheme:function(t){this.themeImporting=!0;var e=this,a={},i=new FileReader;i.onload=function(t){a=JSON.parse(i.result),a.mode="new",a.data_struct=Object(c["encodeRichText"])(JSON.stringify(a.data_struct)),e.$message("Importing theme ... this may take a while"),L(e.base+e.api_up,a,(function(t){t.status?(e.$notify({title:"Theme Imported",type:"success"}),e.updateAll()):e.$notify({title:"Error: "+t.data,type:"warning"}),e.themeImporting=!1}))},i.readAsText(t.file)},del:function(t){var e=this;this.$confirm("You will delete a theme permanently, continue?","Alert",{confirmButtonText:"DELETE",cancelButtonText:"Cancel",type:"warning"}).then((function(){e.upLoading=!0;var a={id:t,mode:"del"};L(e.base+e.api_up,a,(function(t){t.status?(e.$notify({title:"Deleted",type:"success"}),e.updateAll()):e.$notify({title:"Unknow error",message:"Error:"+t.err,type:"warning"})}))})).catch((function(){e.$notify({title:"Cancelled",type:"warning"})})),e.upLoading=!1},useTheme:function(t){var e=this;this.upLoading=!0;var a={currentThemeId:t,mode:"theme"};L(this.base+this.api_setTheme,a,(function(t){t.status?e.$notify({title:"Success",type:"success"}):e.$notify({title:"Error:"+t.data,type:"warning"}),e.upLoading=!1}))},updateAll:function(){this.themesListAll=[],this.activeTheme="",this.getList()}}},Ga=qa,Ja=(a("7cd2"),Object(W["a"])(Ga,za,Va,!1,null,"6e3616cf",null)),Ka=Ja.exports,Xa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.upLoading,expression:"upLoading"}],attrs:{id:"all"}},[a("WTitle",{attrs:{txt:"Theme Data Settings"}}),a("WSubTitle",{attrs:{txt:t.themeName}}),a("br"),t._l(t.themeData,(function(e,i,n){return a("div",{key:"I"+i+n,staticClass:"type-image"},["Image"===e.type?a("div",{staticClass:"type-image-single"},[a("div",[t._v(t._s(i)+":")]),""!=e.val?a("el-image",{staticClass:"file-single-img-img",staticStyle:{width:"180px",height:"180px"},attrs:{src:t.base+e.val,fit:"contain","preview-src-list":[t.base+e.val]}},[a("div",{staticClass:"au_img_placeholder",attrs:{slot:"placeholder"},slot:"placeholder"},[a("span",[t._v("Loading")])])]):t._e(),a("br"),a("br"),a("el-button",{on:{click:function(e){return t.upFile(i)}}},[t._v("Upload")]),a("br"),a("br")],1):t._e()])})),a("br"),t._l(t.themeData,(function(e,i,n){return a("div",{key:"F"+i+n,staticClass:"type-file"},["File"===e.type?a("div",{staticClass:"type-file-single"},[a("div",[t._v(t._s(i)+":")]),a("el-input",{model:{value:e.val,callback:function(a){t.$set(e,"val",a)},expression:"item.val"}}),a("br"),a("br"),a("el-button",{on:{click:function(e){return t.upFile(i)}}},[t._v("Upload")]),a("br"),a("br")],1):t._e()])})),a("br"),t._l(t.themeData,(function(e,i,n){return a("div",{key:"T"+i+n,staticClass:"type-text"},["Text"===e.type?a("div",{staticClass:"type-text-single"},[a("div",[t._v(t._s(i)+":")]),a("el-input",{model:{value:e.val,callback:function(a){t.$set(e,"val",a)},expression:"item.val"}})],1):t._e(),a("br")])})),a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("Save")]),t.upload_win?a("upload-window",{attrs:{base:t.base,allowUrl:!1,allowSelect:!0,allowMultiple:!1},on:{uploaded:t.uploadHandler,close:t.closeUpWin}}):t._e()],2)},Ya=[],Za={name:"postlist",components:{WTitle:Mt,WSubTitle:ut,uploadWindow:ee},props:{base:String},data:function(){return{api:"/data/themes/",api_up:"/updater/theme/",themeData:{},themeName:"",themeId:"",imageUploadTarget:"",upLoading:!1,upload_win:!1}},http:{emulateJSON:!0,emulateHTTP:!0},created:function(){this.getData()},methods:{getData:function(){this.upLoading=!0;var t=this;x(this.base+this.api,[{name:"active",val:"true"}],(function(e){if(e.status){var a=e.data.data[0];t.themeId=e.data.activeTheme,t.themeName=a.name,t.themeData=JSON.parse(Object(c["decodeRichText"])(a.data_struct))}t.upLoading=!1}))},uploadHandler:function(t){var e=t.data,a=this.imageUploadTarget;this.themeData[a].val=e.path},upFile:function(t){this.imageUploadTarget=t,this.upload_win=!0},closeUpWin:function(){this.imageUploadTarget="",this.upload_win=!1},submit:function(){var t=this;this.upLoading=!0;var e={mode:"data",id:this.themeId,data_struct:Object(c["encodeRichText"])(JSON.stringify(this.themeData))};L(this.base+this.api_up,e,(function(e){e.status?(t.$notify({title:"Submitted",type:"success"}),t.getData()):t.$notify({title:"Submit Fail",message:"Error: "+e.error,type:"warning"}),t.upLoading=!1}))}}},Qa=Za,ti=(a("488b"),Object(W["a"])(Qa,Xa,Ya,!1,null,"1b2ce3da",null)),ei=ti.exports;i["default"].use(xt["a"]);var ai=new xt["a"]({routes:[{path:"/",name:"Home",redirect:"/home"},{path:"/home",name:"home",component:Et},{path:"/postslist",name:"postslist",component:Vt},{path:"/postsingle",name:"postsingle",component:Le},{path:"/cateslist",name:"cateslist",component:Ie},{path:"/catesingle",name:"catesingle",component:Ue},{path:"/fileslist",name:"fileslist",component:He},{path:"/visitorlist",name:"visitorlist",component:Ke},{path:"/visittest",name:"visittest",component:ea},{path:"/visittestadm",name:"visittestadm",component:la},{path:"/settings",name:"settings",component:ma},{path:"/adminsettings",name:"adminsettings",component:_a},{path:"/socialmedialist",name:"socialmedialist",component:La},{path:"/socialmediasingle",name:"socialmediasingle",component:Ia},{path:"/navslist",name:"navslist",component:Ua},{path:"/navsingle",name:"navsingle",component:Ha},{path:"/themeslist",name:"themeslist",component:Ka},{path:"/themesettings",name:"themesettings",component:ei}]}),ii=a("4ae6"),ni=a.n(ii);i["default"].use(s.a),i["default"].use(kt.a,yt.a),i["default"].use(ni.a),i["default"].prototype.$qs=a("b383"),i["default"].config.productionTip=!1,new i["default"]({render:function(t){return t(vt)},router:ai}).$mount("#app")},"5a44":function(t,e,a){},"5da9":function(t,e,a){"use strict";var i=a("dfca"),n=a.n(i);n.a},"5e73":function(t,e,a){"use strict";var i=a("4a8b"),n=a.n(i);n.a},"603a":function(t,e,a){"use strict";var i=a("07b2"),n=a.n(i);n.a},"60e0":function(t,e,a){"use strict";var i=a("14ad"),n=a.n(i);n.a},"62ad":function(t,e,a){},"62fa":function(t,e,a){"use strict";var i=a("dab3"),n=a.n(i);n.a},"64a9":function(t,e,a){},"6b45":function(t,e,a){"use strict";var i=a("ec92"),n=a.n(i);n.a},"6c83":function(t,e,a){"use strict";var i=a("62ad"),n=a.n(i);n.a},"6d84":function(t,e,a){},"78ba":function(t,e,a){},"7ab6":function(t,e,a){"use strict";var i=a("3f8c"),n=a.n(i);n.a},"7cd2":function(t,e,a){"use strict";var i=a("28b2"),n=a.n(i);n.a},"7d38":function(t,e,a){},"89fd":function(t,e,a){},"8de4":function(t,e,a){"use strict";var i=a("3ccc"),n=a.n(i);n.a},"9ba0":function(t,e,a){},b11b:function(t,e,a){},b7e1:function(t,e,a){"use strict";var i=a("4abc"),n=a.n(i);n.a},bc1f:function(t,e,a){},bd75:function(t,e,a){"use strict";var i=a("7d38"),n=a.n(i);n.a},beb6:function(t,e,a){},c5ec:function(t,e,a){"use strict";var i=a("89fd"),n=a.n(i);n.a},c70e:function(t,e,a){"use strict";var i=a("b11b"),n=a.n(i);n.a},d93a:function(t,e,a){"use strict";var i=a("3661"),n=a.n(i);n.a},d9f0:function(t,e,a){"use strict";var i=a("5a44"),n=a.n(i);n.a},dab3:function(t,e,a){},dfca:function(t,e,a){},e441:function(t,e,a){"use strict";var i=a("f883"),n=a.n(i);n.a},e5e2:function(t,e,a){"use strict";var i=a("1089"),n=a.n(i);n.a},ec92:function(t,e,a){},ed0c:function(t,e,a){"use strict";var i=a("bc1f"),n=a.n(i);n.a},f5ef:function(t,e,a){"use strict";a.r(e),a.d(e,"EventBus",(function(){return n})),a.d(e,"forceLogout",(function(){return s})),a.d(e,"uploadProgress",(function(){return o}));var i=a("a026"),n=new i["default"];function s(){n.$emit("force-logout",!0)}function o(t){n.$emit("upload-progress",t)}},f883:function(t,e,a){},fa5b1:function(t,e,a){"use strict";var i=a("9ba0"),n=a.n(i);n.a}});
//# sourceMappingURL=app.848dc71a.js.map